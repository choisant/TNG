we are running from this directory: /cluster/work/aurorasg/TNG
 the name of the job is: cluster_run
Th job ID is 50583
The job was run on these nodes: idun-02-11
Number of nodes: 1
We are using 1 cores
We are using 1 cores per node
Total of 1 cores
Linux idun-02-22 4.18.0-193.el8.x86_64 #1 SMP Fri May 8 10:59:10 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
Linux idun-02-22 4.18.0-193.el8.x86_64 #1 SMP Fri May 8 10:59:10 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
./data/tng-100-1/cutdata/central_id_2.txt
./data/tng-100-1/cutdata/central_id_1.txt
Linux idun-02-11 4.18.0-193.el8.x86_64 #1 SMP Fri May 8 10:59:10 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
Linux idun-02-16 4.18.0-193.el8.x86_64 #1 SMP Fri May 8 10:59:10 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
./data/tng-100-1/cutdata/central_id_7.txt
Linux idun-02-17 4.18.0-193.el8.x86_64 #1 SMP Fri May 8 10:59:10 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
Linux idun-02-17 4.18.0-193.el8.x86_64 #1 SMP Fri May 8 10:59:10 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
Linux idun-02-17 4.18.0-193.el8.x86_64 #1 SMP Fri May 8 10:59:10 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
./data/tng-100-1/cutdata/central_id_6.txt
./data/tng-100-1/cutdata/central_id_4.txt
./data/tng-100-1/cutdata/central_id_3.txt
./data/tng-100-1/cutdata/central_id_5.txt
Processing subhalo  570992
Processing subhalo  584579
Processing subhalo  571014
Processing subhalo  584598
Processing subhalo  437121
Processing subhalo  584612
Processing subhalo  571031
Processing subhalo  544976
Processing subhalo  518581
Processing subhalo  584654
Processing subhalo  571048
Processing subhalo  488841
Processing subhalo  584681
Processing subhalo  571066
Processing subhalo  545037
Processing subhalo  518614
Processing subhalo  437239
Processing subhalo  584722
Processing subhalo  571081
Processing subhalo  545050
Processing subhalo  488906
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  584735
Processing subhalo  571094
Processing subhalo  518640
Processing subhalo  545070
Processing subhalo  488945
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  584755
Processing subhalo  571102
Processing subhalo  437314
Processing subhalo  545101
Processing subhalo  518658
Processing subhalo  584797
Processing subhalo  488990
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  571110
Processing subhalo  545136
Processing subhalo  584844
Processing subhalo  518713
Processing subhalo  571121
Processing subhalo  584885
Processing subhalo  545154
Processing subhalo  437408
Processing subhalo  489016
Processing subhalo  571131
Processing subhalo  584893
Processing subhalo  545179
Processing subhalo  518742
Processing subhalo  584926
Processing subhalo  571146
Processing subhalo  545214
Processing subhalo  489054
Processing subhalo  518774
Processing subhalo  437507
Processing subhalo  584933
Processing subhalo  571153
Processing subhalo  545249
Processing subhalo  584944
Processing subhalo  518810
Processing subhalo  571175
Processing subhalo  489100
Processing subhalo  437645
Processing subhalo  545265
Processing subhalo  584962
Processing subhalo  571201
Processing subhalo  518854
Processing subhalo  584986
Processing subhalo  489162
Processing subhalo  571242
Processing subhalo  545301
Processing subhalo  518896
Processing subhalo  585017
Processing subhalo  571256
Processing subhalo  545323
Processing subhalo  489230
Processing subhalo  437749
Processing subhalo  585083
Processing subhalo  571274
Processing subhalo  518921
Processing subhalo  545346
Processing subhalo  585097
Processing subhalo  571340
Processing subhalo  489273
Processing subhalo  545377
Processing subhalo  585112
Processing subhalo  518956
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  437822
Processing subhalo  571349
Processing subhalo  545399
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  585148
Processing subhalo  518971
Processing subhalo  571408
Processing subhalo  585204
Processing subhalo  545413
Processing subhalo  489314
Processing subhalo  585235
Processing subhalo  571415
Processing subhalo  545434
Processing subhalo  519021
Processing subhalo  489356
Processing subhalo  437945
Processing subhalo  585272
Processing subhalo  545502
Processing subhalo  571480
Processing subhalo  519044
Processing subhalo  585290
Processing subhalo  571488
Processing subhalo  545536
Processing subhalo  489417
Processing subhalo  585324
Processing subhalo  519091
Processing subhalo  571504
Processing subhalo  545571
Processing subhalo  438038
Processing subhalo  585356
Processing subhalo  571531
Processing subhalo  519136
Processing subhalo  545589
Processing subhalo  489462
Processing subhalo  571559
Processing subhalo  585369
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  519181
Processing subhalo  545612
Processing subhalo  438167
Processing subhalo  585370
Processing subhalo  489501
Processing subhalo  571568
Processing subhalo  519238
Processing subhalo  545630
Processing subhalo  585380
Processing subhalo  571581
Processing subhalo  519286
Processing subhalo  585397
Processing subhalo  545657
Processing subhalo  489550
Processing subhalo  438297
Processing subhalo  571593
Processing subhalo  585468
Processing subhalo  519331
Processing subhalo  545664
Processing subhalo  571614
Processing subhalo  585490
Processing subhalo  519352
Processing subhalo  489593
Processing subhalo  545690
Processing subhalo  571626
Processing subhalo  585505
Processing subhalo  545733
Processing subhalo  571634
Processing subhalo  489618
Processing subhalo  519393
Processing subhalo  585524
Processing subhalo  438368
Processing subhalo  571647
Processing subhalo  585537
Processing subhalo  545758
Processing subhalo  519428
Processing subhalo  571665
Processing subhalo  489666
Processing subhalo  585553
Processing subhalo  438453
Processing subhalo  545770
Processing subhalo  571681
Processing subhalo  585568
Processing subhalo  519446
Processing subhalo  545804
Processing subhalo  489703
Processing subhalo  585575
Processing subhalo  571700
Processing subhalo  438568
Processing subhalo  519487
Processing subhalo  545821
Processing subhalo  585592
Processing subhalo  571713
Processing subhalo  489752
Processing subhalo  545832
Processing subhalo  585609
Processing subhalo  571771
Processing subhalo  519529
Processing subhalo  438669
Processing subhalo  585629
Processing subhalo  571787
Processing subhalo  545856
Processing subhalo  519570
Processing subhalo  489812
Processing subhalo  585689
Processing subhalo  571804
Processing subhalo  545874
Processing subhalo  585708
Processing subhalo  519616
Processing subhalo  438787
Processing subhalo  489863
Processing subhalo  571824
Processing subhalo  585719
Processing subhalo  545886
Processing subhalo  571836
Processing subhalo  519650
Processing subhalo  585731
Processing subhalo  438890
Processing subhalo  489901
Processing subhalo  571853
Processing subhalo  545918
Processing subhalo  519681
Processing subhalo  585759
Processing subhalo  571872
Processing subhalo  545936
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  585773
Processing subhalo  519728
Processing subhalo  571890
Processing subhalo  438996
Processing subhalo  489953
Processing subhalo  545955
Processing subhalo  585787
Processing subhalo  571899
Processing subhalo  519776
Processing subhalo  545986
Processing subhalo  585824
Processing subhalo  489990
Processing subhalo  571920
Processing subhalo  439078
Processing subhalo  585860
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  519805
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  546018
Processing subhalo  571938
Processing subhalo  490053
Processing subhalo  585867
Processing subhalo  546047
Processing subhalo  519849
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  571959
Processing subhalo  585876
Processing subhalo  546070
Processing subhalo  585914
Processing subhalo  572002
Processing subhalo  439201
Processing subhalo  519887
Processing subhalo  490109
Processing subhalo  546144
Processing subhalo  585951
Processing subhalo  572014
Processing subhalo  490130
Processing subhalo  519909
Processing subhalo  585987
Processing subhalo  572022
Processing subhalo  546171
Processing subhalo  439283
Processing subhalo  585999
Processing subhalo  572045
Processing subhalo  546186
Processing subhalo  519933
Processing subhalo  586032
Processing subhalo  490172
Processing subhalo  572064
Processing subhalo  546235
Processing subhalo  519978
Processing subhalo  586051
Processing subhalo  572092
Processing subhalo  439392
Processing subhalo  546260
Processing subhalo  586058
Processing subhalo  490195
Processing subhalo  572108
Processing subhalo  520009
Processing subhalo  546288
Processing subhalo  586114
Processing subhalo  586131
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  572129
Processing subhalo  490238
Processing subhalo  520040
Processing subhalo  586134
Processing subhalo  546305
Processing subhalo  572148
Processing subhalo  586159
Processing subhalo  572156
Processing subhalo  546316
Processing subhalo  490280
Processing subhalo  439468
Processing subhalo  520067
Processing subhalo  586185
Processing subhalo  572166
Processing subhalo  546337
Processing subhalo  586200
Processing subhalo  520082
Processing subhalo  490342
Processing subhalo  572191
Processing subhalo  586229
Processing subhalo  546361
Processing subhalo  572207
Processing subhalo  520132
Processing subhalo  586245
Processing subhalo  546374
Processing subhalo  572261
Processing subhalo  490418
Processing subhalo  586269
Processing subhalo  439518
Processing subhalo  520152
Processing subhalo  546394
Processing subhalo  572294
Processing subhalo  586279
Processing subhalo  490475
Processing subhalo  546426
Processing subhalo  572321
Processing subhalo  520196
Processing subhalo  586315
Processing subhalo  439630
Processing subhalo  586408
Processing subhalo  546452
Processing subhalo  572344
Processing subhalo  520230
Processing subhalo  490533
Processing subhalo  586419
Processing subhalo  572370
Processing subhalo  546464
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  439732
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  520265
Processing subhalo  586449
Processing subhalo  572422
Processing subhalo  546483
Processing subhalo  586461
Processing subhalo  490577
Processing subhalo  520295
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  572439
Processing subhalo  546510
Processing subhalo  439827
Processing subhalo  586577
Processing subhalo  572459
Processing subhalo  520331
Processing subhalo  546535
Processing subhalo  586587
Processing subhalo  490617
Processing subhalo  572464
Processing subhalo  546567
Processing subhalo  520370
Processing subhalo  439922
Processing subhalo  586627
Processing subhalo  572480
Processing subhalo  586635
Processing subhalo  546586
Processing subhalo  490661
Processing subhalo  520426
Processing subhalo  572490
Processing subhalo  586650
Processing subhalo  440024
Processing subhalo  546597
Processing subhalo  586663
Processing subhalo  572503
Processing subhalo  520454
Processing subhalo  490711
Processing subhalo  546636
Processing subhalo  440144
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  586677
Processing subhalo  572517
Processing subhalo  546653
Processing subhalo  586687
Processing subhalo  520484
Processing subhalo  572546
Processing subhalo  490768
Processing subhalo  586724
Processing subhalo  546709
Processing subhalo  520509
Processing subhalo  440193
Processing subhalo  572566
Processing subhalo  586749
Processing subhalo  546735
Processing subhalo  520541
Processing subhalo  490806
Processing subhalo  572608
Processing subhalo  586833
Processing subhalo  546758
Processing subhalo  572623
Processing subhalo  520583
Processing subhalo  490842
Processing subhalo  586839
Processing subhalo  546778
Processing subhalo  440289
Processing subhalo  572646
Processing subhalo  586848
Processing subhalo  520617
Processing subhalo  490867
Processing subhalo  546811
Processing subhalo  572696
Processing subhalo  586861
Processing subhalo  546846
Processing subhalo  586901
Processing subhalo  572715
Processing subhalo  520649
Processing subhalo  490921
Processing subhalo  440377
Processing subhalo  586910
Processing subhalo  572740
Processing subhalo  546873
Processing subhalo  520675
Processing subhalo  490986
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  586918
Processing subhalo  440477
Processing subhalo  572749
Processing subhalo  546885
Processing subhalo  586924
Processing subhalo  520728
Processing subhalo  572761
Processing subhalo  546927
Processing subhalo  586986
Processing subhalo  491026
Processing subhalo  440568
Processing subhalo  572809
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  520769
Processing subhalo  586996
Processing subhalo  546944
Processing subhalo  572833
Processing subhalo  520793
Processing subhalo  587010
Processing subhalo  546958
Processing subhalo  491066
Processing subhalo  572847
Processing subhalo  587053
Processing subhalo  440642
Processing subhalo  520825
Processing subhalo  546982
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  572879
Processing subhalo  587066
Processing subhalo  491089
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  546989
Processing subhalo  572894
Processing subhalo  587096
Processing subhalo  520839
Processing subhalo  491145
Processing subhalo  440726
Processing subhalo  572914
Processing subhalo  587108
Processing subhalo  547017
Processing subhalo  520869
Processing subhalo  587135
Processing subhalo  572936
Processing subhalo  547034
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  491189
Processing subhalo  587151
Processing subhalo  572953
Processing subhalo  520891
Processing subhalo  547038
Processing subhalo  587162
Processing subhalo  572990
Processing subhalo  440827
Processing subhalo  491225
Processing subhalo  547056
Processing subhalo  587200
Processing subhalo  520947
Processing subhalo  572995
Processing subhalo  587236
Processing subhalo  547081
Processing subhalo  440923
Processing subhalo  520972
Processing subhalo  573007
Processing subhalo  587269
Processing subhalo  491282
Processing subhalo  547107
Processing subhalo  573021
Processing subhalo  520999
Processing subhalo  587338
Processing subhalo  441036
Processing subhalo  547126
Processing subhalo  573084
Processing subhalo  587345
Processing subhalo  521026
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  491316
Processing subhalo  547193
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  587404
Processing subhalo  573148
Processing subhalo  521059
Processing subhalo  587416
Processing subhalo  491354
Processing subhalo  547211
Processing subhalo  573175
Processing subhalo  441141
Processing subhalo  587431
Processing subhalo  521093
Processing subhalo  573192
Processing subhalo  547232
Processing subhalo  441218
Processing subhalo  587441
Processing subhalo  491403
Processing subhalo  573206
Processing subhalo  521114
Processing subhalo  547250
Processing subhalo  587456
Processing subhalo  573255
Processing subhalo  547271
Processing subhalo  491471
Processing subhalo  587473
Processing subhalo  521153
Processing subhalo  573273
Processing subhalo  441327
Processing subhalo  587499
Processing subhalo  547290
Processing subhalo  521166
Processing subhalo  573285
Processing subhalo  491520
Processing subhalo  587533
Processing subhalo  547304
Processing subhalo  521201
Processing subhalo  573325
Processing subhalo  587565
Processing subhalo  491581
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  547375
Processing subhalo  441397
Processing subhalo  587619
Processing subhalo  573340
Processing subhalo  521231
Processing subhalo  491614
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  547399
Processing subhalo  587630
Processing subhalo  573353
Processing subhalo  521258
Processing subhalo  441494
Processing subhalo  547427
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  587659
Processing subhalo  573394
Processing subhalo  491650
Processing subhalo  521322
Processing subhalo  587713
Processing subhalo  573414
Processing subhalo  547443
Processing subhalo  587722
Processing subhalo  573458
Processing subhalo  521361
Processing subhalo  491735
Processing subhalo  547470
Processing subhalo  587760
Processing subhalo  441574
Processing subhalo  573480
Processing subhalo  521382
Processing subhalo  547493
Processing subhalo  587771
Processing subhalo  491761
Processing subhalo  573502
Processing subhalo  521445
Processing subhalo  547512
Processing subhalo  587786
Processing subhalo  573516
Processing subhalo  491801
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  441667
Processing subhalo  521489
Processing subhalo  587792
Processing subhalo  547527
Processing subhalo  573532
Processing subhalo  573548
Processing subhalo  587836
Processing subhalo  491872
Processing subhalo  521520
Processing subhalo  547546
Processing subhalo  441763
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  573560
Processing subhalo  587872
Processing subhalo  521552
Processing subhalo  547569
Processing subhalo  573576
Processing subhalo  587910
Processing subhalo  441857
Processing subhalo  547596
Processing subhalo  491901
Processing subhalo  521593
Processing subhalo  573592
Processing subhalo  587917
Processing subhalo  547632
Processing subhalo  441939
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  491931
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  573608
Processing subhalo  587929
Processing subhalo  521616
Processing subhalo  547655
Processing subhalo  573629
Processing subhalo  491980
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  587953
Processing subhalo  17185
Processing subhalo  521638
Processing subhalo  547671
Processing subhalo  588012
Processing subhalo  573641
Processing subhalo  492023
Processing subhalo  442084
Processing subhalo  521681
Processing subhalo  573659
Processing subhalo  547691
Processing subhalo  588038
Processing subhalo  573692
Processing subhalo  588052
Processing subhalo  547714
Processing subhalo  521716
Processing subhalo  492092
Processing subhalo  573750
Processing subhalo  588085
Processing subhalo  547767
Processing subhalo  521821
Processing subhalo  442154
Processing subhalo  573757
Processing subhalo  588126
Processing subhalo  492125
Processing subhalo  547788
Processing subhalo  573770
Processing subhalo  588136
Processing subhalo  521838
Processing subhalo  547815
Processing subhalo  442227
Processing subhalo  573841
Processing subhalo  588154
Processing subhalo  492178
Processing subhalo  521863
Processing subhalo  588181
Processing subhalo  573855
Processing subhalo  547830
Processing subhalo  442299
Processing subhalo  492223
Processing subhalo  588209
Processing subhalo  573867
Processing subhalo  547848
Processing subhalo  521889
Processing subhalo  573930
Processing subhalo  588239
Processing subhalo  492285
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  547872
Processing subhalo  521910
Processing subhalo  588251
Processing subhalo  573944
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  442350
Processing subhalo  492326
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  547892
Processing subhalo  573949
Processing subhalo  521936
Processing subhalo  588295
Processing subhalo  547907
Processing subhalo  588317
Processing subhalo  573962
Processing subhalo  521962
Processing subhalo  492352
Processing subhalo  442439
Processing subhalo  547924
Processing subhalo  588329
Processing subhalo  573981
Processing subhalo  522003
Processing subhalo  588367
Processing subhalo  547956
Processing subhalo  573988
Processing subhalo  522033
Processing subhalo  492392
Processing subhalo  588397
Processing subhalo  442532
Processing subhalo  573997
Processing subhalo  547984
Processing subhalo  588485
Processing subhalo  522056
Processing subhalo  574003
Processing subhalo  547998
Processing subhalo  492425
Processing subhalo  588517
Processing subhalo  574018
Processing subhalo  522076
Processing subhalo  588554
Processing subhalo  548053
Processing subhalo  442637
Processing subhalo  492462
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  574066
Processing subhalo  588565
Processing subhalo  548058
Processing subhalo  522118
Processing subhalo  574105
Processing subhalo  492493
Processing subhalo  588577
Processing subhalo  574115
Processing subhalo  548088
Processing subhalo  522155
Processing subhalo  588594
Processing subhalo  442761
Processing subhalo  574134
Processing subhalo  492528
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  548113
Processing subhalo  522202
Processing subhalo  588640
Processing subhalo  574158
Processing subhalo  548129
Processing subhalo  522241
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  492565
Processing subhalo  588670
Processing subhalo  574180
Processing subhalo  548153
Processing subhalo  442855
Processing subhalo  588676
Processing subhalo  574263
Processing subhalo  522263
Processing subhalo  492614
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  588742
Processing subhalo  548208
Processing subhalo  574306
Processing subhalo  492666
Processing subhalo  588764
Processing subhalo  522299
Processing subhalo  442979
Processing subhalo  548223
Processing subhalo  574326
Processing subhalo  588781
Processing subhalo  492710
Processing subhalo  522317
Processing subhalo  574342
Processing subhalo  588791
Processing subhalo  548246
Processing subhalo  443097
Processing subhalo  574352
Processing subhalo  588820
Processing subhalo  548267
Processing subhalo  492755
Processing subhalo  522345
Processing subhalo  588870
Processing subhalo  574418
Processing subhalo  443175
Processing subhalo  548305
Processing subhalo  492808
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  522370
Processing subhalo  588896
Processing subhalo  574496
Processing subhalo  548321
Processing subhalo  588906
Processing subhalo  574504
Processing subhalo  522394
Processing subhalo  492825
Processing subhalo  588952
Processing subhalo  548343
Processing subhalo  443249
Processing subhalo  574543
Processing subhalo  522484
Processing subhalo  588961
Processing subhalo  548369
Processing subhalo  574583
Processing subhalo  492845
Processing subhalo  588989
Processing subhalo  548403
Processing subhalo  522522
Processing subhalo  574620
Processing subhalo  589021
Processing subhalo  574627
Processing subhalo  492889
Processing subhalo  443356
Processing subhalo  548446
Processing subhalo  522553
Processing subhalo  589031
Processing subhalo  574649
Processing subhalo  589046
Processing subhalo  548458
Processing subhalo  492947
Processing subhalo  522581
Processing subhalo  574725
Processing subhalo  589051
Processing subhalo  548488
Processing subhalo  443421
Processing subhalo  492989
Processing subhalo  522603
Processing subhalo  574735
Processing subhalo  589058
Processing subhalo  548501
Processing subhalo  574744
Processing subhalo  589067
Processing subhalo  522630
Processing subhalo  493034
Processing subhalo  589074
Processing subhalo  574758
Processing subhalo  548520
Processing subhalo  443498
Processing subhalo  522660
Processing subhalo  493085
Processing subhalo  589115
Processing subhalo  574767
Processing subhalo  548531
Processing subhalo  589127
Processing subhalo  574776
Processing subhalo  493141
Processing subhalo  522685
Processing subhalo  548572
Processing subhalo  589170
Processing subhalo  443587
Processing subhalo  574813
Processing subhalo  522727
Processing subhalo  589209
Processing subhalo  548590
Processing subhalo  493183
Processing subhalo  574829
Processing subhalo  589219
Processing subhalo  548609
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  443683
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  522749
Processing subhalo  574854
Processing subhalo  589269
Processing subhalo  493230
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  548631
Processing subhalo  574871
Processing subhalo  522779
Processing subhalo  589327
Processing subhalo  548662
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  493266
Processing subhalo  574903
Processing subhalo  589341
Processing subhalo  522800
Processing subhalo  443746
Processing subhalo  548675
Processing subhalo  493314
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  589351
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  574928
Processing subhalo  522817
Processing subhalo  443801
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  548688
Processing subhalo  589355
Processing subhalo  493380
Processing subhalo  574940
Processing subhalo  589369
Processing subhalo  548719
Processing subhalo  574948
Processing subhalo  522848
Processing subhalo  589373
Processing subhalo  493437
Processing subhalo  443914
Processing subhalo  574964
Processing subhalo  548735
Processing subhalo  522885
Processing subhalo  589419
Processing subhalo  444067
Processing subhalo  575001
Processing subhalo  548756
Processing subhalo  589459
Processing subhalo  522908
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  493491
Processing subhalo  575014
Processing subhalo  548783
Processing subhalo  589465
Processing subhalo  522938
Processing subhalo  444184
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  575032
Processing subhalo  589507
Processing subhalo  548801
Processing subhalo  493517
Processing subhalo  522957
Processing subhalo  575045
Processing subhalo  589573
Processing subhalo  444251
Processing subhalo  548808
Processing subhalo  575119
Processing subhalo  589584
Processing subhalo  522992
Processing subhalo  548836
Processing subhalo  493575
Processing subhalo  575148
Processing subhalo  589598
Processing subhalo  444340
Processing subhalo  493633
Processing subhalo  548855
Processing subhalo  575169
Processing subhalo  589669
Processing subhalo  523008
Processing subhalo  444442
Processing subhalo  589677
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  575177
Processing subhalo  548864
Processing subhalo  493658
Processing subhalo  523035
Processing subhalo  589713
Processing subhalo  575193
Processing subhalo  548883
Processing subhalo  444545
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  493702
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  589743
Processing subhalo  575238
Processing subhalo  523071
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  548910
Processing subhalo  589762
Processing subhalo  575327
Processing subhalo  523087
Processing subhalo  589776
Processing subhalo  493751
Processing subhalo  548971
Processing subhalo  444631
Processing subhalo  575339
Processing subhalo  589818
Processing subhalo  548993
Processing subhalo  575347
Processing subhalo  523109
Processing subhalo  493796
Processing subhalo  589827
Processing subhalo  444728
Processing subhalo  575359
Processing subhalo  549006
Processing subhalo  589860
Processing subhalo  523129
Processing subhalo  575376
Processing subhalo  493859
Processing subhalo  549041
Processing subhalo  589877
Processing subhalo  444834
Processing subhalo  575397
Processing subhalo  523157
Processing subhalo  589887
Processing subhalo  549066
Processing subhalo  493920
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  575411
Processing subhalo  589896
Processing subhalo  523198
Processing subhalo  549085
Processing subhalo  575421
Processing subhalo  589935
Processing subhalo  444929
Processing subhalo  523231
Processing subhalo  549108
Processing subhalo  493964
Processing subhalo  589948
Processing subhalo  575440
Processing subhalo  549215
Processing subhalo  590032
Processing subhalo  523247
Processing subhalo  575455
Processing subhalo  494009
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  444997
Processing subhalo  590048
Processing subhalo  549236
Processing subhalo  575471
Processing subhalo  523279
Processing subhalo  590062
Processing subhalo  494036
Processing subhalo  575483
Processing subhalo  549262
Processing subhalo  590075
Processing subhalo  523306
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  575497
Processing subhalo  549281
Processing subhalo  494091
Processing subhalo  590084
Processing subhalo  445092
Processing subhalo  575535
Processing subhalo  549311
Processing subhalo  523329
Processing subhalo  590096
Processing subhalo  575551
Processing subhalo  494131
Processing subhalo  549340
Processing subhalo  590114
Processing subhalo  445185
Processing subhalo  523364
Processing subhalo  575564
Processing subhalo  494178
Processing subhalo  590147
Processing subhalo  549349
Processing subhalo  523392
Processing subhalo  575585
Processing subhalo  590158
Processing subhalo  549364
Processing subhalo  494232
Processing subhalo  523425
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  575603
Processing subhalo  590167
Processing subhalo  549388
Processing subhalo  575619
Processing subhalo  590185
Processing subhalo  445271
Processing subhalo  523435
Processing subhalo  494273
Processing subhalo  590189
Processing subhalo  575655
Processing subhalo  549407
Processing subhalo  523458
Processing subhalo  590201
Processing subhalo  575665
Processing subhalo  549424
Processing subhalo  445342
Processing subhalo  494326
Processing subhalo  590210
Processing subhalo  575692
Processing subhalo  523489
Processing subhalo  549434
Processing subhalo  590245
Processing subhalo  575710
Processing subhalo  445420
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  494377
Processing subhalo  523521
Processing subhalo  590253
Processing subhalo  575718
Processing subhalo  549467
Processing subhalo  590268
Processing subhalo  494423
Processing subhalo  575732
Processing subhalo  523547
Processing subhalo  445515
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  549493
Processing subhalo  590280
Processing subhalo  575743
Processing subhalo  523582
Processing subhalo  494487
Processing subhalo  549512
Processing subhalo  590286
Processing subhalo  575753
Processing subhalo  445567
Processing subhalo  549534
Processing subhalo  494526
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  523618
Processing subhalo  590304
Processing subhalo  575767
Processing subhalo  549560
Processing subhalo  590392
Processing subhalo  523639
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  575774
Processing subhalo  494578
Processing subhalo  590401
Processing subhalo  549583
Processing subhalo  445658
Processing subhalo  575799
Processing subhalo  523661
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  590410
Processing subhalo  549611
Processing subhalo  494622
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  575857
Processing subhalo  523684
Processing subhalo  590420
Processing subhalo  549641
Processing subhalo  575876
Processing subhalo  590426
Processing subhalo  523729
Processing subhalo  445753
Processing subhalo  575893
Processing subhalo  549666
Processing subhalo  494667
Processing subhalo  590435
Processing subhalo  523773
Processing subhalo  575908
Processing subhalo  590461
Processing subhalo  549697
Processing subhalo  494721
Processing subhalo  576031
Processing subhalo  445878
Processing subhalo  590482
Processing subhalo  549760
Processing subhalo  523812
Processing subhalo  576052
Processing subhalo  590511
Processing subhalo  523835
Processing subhalo  549780
Processing subhalo  494771
Processing subhalo  576069
Processing subhalo  445939
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  590543
Processing subhalo  549796
Processing subhalo  576080
Processing subhalo  590564
Processing subhalo  523878
Processing subhalo  494807
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  446011
Processing subhalo  590583
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  549819
Processing subhalo  576103
Processing subhalo  523897
Processing subhalo  590628
Processing subhalo  549846
Processing subhalo  576115
Processing subhalo  494846
Processing subhalo  590677
Processing subhalo  576149
Processing subhalo  523919
Processing subhalo  549879
Processing subhalo  494928
Processing subhalo  590693
Processing subhalo  576208
Processing subhalo  549897
Processing subhalo  446112
Processing subhalo  590704
Processing subhalo  523958
Processing subhalo  494991
Processing subhalo  576218
Processing subhalo  549920
Processing subhalo  590714
Processing subhalo  576256
Processing subhalo  446172
Processing subhalo  523990
Processing subhalo  549937
Processing subhalo  590762
Processing subhalo  495043
Processing subhalo  576282
Processing subhalo  590829
Processing subhalo  549956
Processing subhalo  524018
Processing subhalo  495073
Processing subhalo  576297
Processing subhalo  590838
Processing subhalo  549983
Processing subhalo  446253
Processing subhalo  524053
Processing subhalo  576348
Processing subhalo  495113
Processing subhalo  590840
Processing subhalo  550016
Processing subhalo  576373
Processing subhalo  590890
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  495177
Processing subhalo  550044
Processing subhalo  524087
Processing subhalo  446330
Processing subhalo  576391
Processing subhalo  590924
Processing subhalo  550071
Processing subhalo  524113
Processing subhalo  590968
Processing subhalo  576439
Processing subhalo  495214
Processing subhalo  446449
Processing subhalo  550102
Processing subhalo  524135
Processing subhalo  590992
Processing subhalo  576449
Processing subhalo  495261
Processing subhalo  550124
Processing subhalo  524174
Processing subhalo  591024
Processing subhalo  576472
Processing subhalo  446548
Processing subhalo  591137
Processing subhalo  576497
Processing subhalo  524216
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  550145
Processing subhalo  495297
Processing subhalo  446612
Processing subhalo  591153
Processing subhalo  576521
Processing subhalo  550211
Processing subhalo  524262
Processing subhalo  495331
Processing subhalo  591183
Processing subhalo  576585
Processing subhalo  550229
Processing subhalo  591237
Processing subhalo  446682
Processing subhalo  576595
Processing subhalo  524295
Processing subhalo  495389
Processing subhalo  591278
Processing subhalo  591288
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  550248
Processing subhalo  576605
Processing subhalo  524317
Processing subhalo  446786
Processing subhalo  591328
Processing subhalo  576616
Processing subhalo  550264
Processing subhalo  495442
Processing subhalo  524344
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  591333
Processing subhalo  576629
Processing subhalo  550281
Processing subhalo  591362
Processing subhalo  446937
Processing subhalo  576653
Processing subhalo  524372
Processing subhalo  550305
Processing subhalo  495471
Processing subhalo  591425
Processing subhalo  576666
Processing subhalo  524400
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  550319
Processing subhalo  591475
Processing subhalo  576683
Processing subhalo  495515
Processing subhalo  591491
Processing subhalo  447042
Processing subhalo  550382
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  576736
Processing subhalo  524423
Processing subhalo  591499
Processing subhalo  550400
Processing subhalo  495540
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  576762
Processing subhalo  524453
Processing subhalo  591541
Processing subhalo  447153
Processing subhalo  576776
Processing subhalo  550419
Processing subhalo  495589
Processing subhalo  591571
Processing subhalo  524490
Processing subhalo  576792
Processing subhalo  550450
Processing subhalo  591604
Processing subhalo  495654
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  524520
Processing subhalo  447236
Processing subhalo  576803
Processing subhalo  550484
Processing subhalo  591612
Processing subhalo  576823
Processing subhalo  524551
Processing subhalo  495719
Processing subhalo  591620
Processing subhalo  550510
Processing subhalo  447350
Processing subhalo  576836
Processing subhalo  591636
Processing subhalo  524567
Processing subhalo  495772
Processing subhalo  550537
Processing subhalo  576846
Processing subhalo  591660
Processing subhalo  524589
Processing subhalo  447433
Processing subhalo  591668
Processing subhalo  550562
Processing subhalo  576898
Processing subhalo  495803
Processing subhalo  524617
Processing subhalo  591679
Processing subhalo  576943
Processing subhalo  550580
Processing subhalo  524648
Processing subhalo  591691
Processing subhalo  576958
Processing subhalo  447532
Processing subhalo  550596
Processing subhalo  495854
Processing subhalo  591719
Processing subhalo  576972
Processing subhalo  524678
Processing subhalo  591760
Processing subhalo  550654
Processing subhalo  576986
Processing subhalo  495882
Processing subhalo  591774
Processing subhalo  524708
Processing subhalo  550679
Processing subhalo  577016
Processing subhalo  31342
Processing subhalo  591777
Processing subhalo  577033
Processing subhalo  524731
Processing subhalo  550735
Processing subhalo  495934
Processing subhalo  447606
Processing subhalo  591786
Processing subhalo  577056
Processing subhalo  550746
Processing subhalo  591820
Processing subhalo  524765
Processing subhalo  495980
Processing subhalo  577074
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  447695
Processing subhalo  591832
Processing subhalo  550757
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  524789
Processing subhalo  577080
Processing subhalo  591848
Processing subhalo  550768
Processing subhalo  496019
Processing subhalo  577085
Processing subhalo  591881
Processing subhalo  524825
Processing subhalo  550798
Processing subhalo  591894
Processing subhalo  577098
Processing subhalo  447767
Processing subhalo  496056
Processing subhalo  524846
Processing subhalo  591943
Processing subhalo  577120
Processing subhalo  550818
Processing subhalo  591981
Processing subhalo  496113
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  577156
Processing subhalo  524874
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  447886
Processing subhalo  550836
Processing subhalo  591995
Processing subhalo  577167
Processing subhalo  524898
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  496132
Processing subhalo  592005
Processing subhalo  550852
Processing subhalo  577178
Processing subhalo  524930
Processing subhalo  592018
Processing subhalo  550858
Processing subhalo  577184
Processing subhalo  448021
Processing subhalo  524965
Processing subhalo  592022
Processing subhalo  496167
Processing subhalo  577191
Processing subhalo  550878
Processing subhalo  524996
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  577227
Processing subhalo  592046
Processing subhalo  496212
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  550898
Processing subhalo  592050
Processing subhalo  577246
Processing subhalo  525021
Processing subhalo  448111
Processing subhalo  550925
Processing subhalo  577263
Processing subhalo  592067
Processing subhalo  496244
Processing subhalo  525057
Processing subhalo  550949
Processing subhalo  577293
Processing subhalo  592159
Processing subhalo  448196
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  525081
Processing subhalo  550967
Processing subhalo  592188
Processing subhalo  496292
Processing subhalo  577306
Processing subhalo  592244
Processing subhalo  577316
Processing subhalo  550985
Processing subhalo  525108
Processing subhalo  448269
Processing subhalo  592283
Processing subhalo  577335
Processing subhalo  496326
Processing subhalo  551001
Processing subhalo  525132
Processing subhalo  577356
Processing subhalo  592324
Processing subhalo  551019
Processing subhalo  525167
Processing subhalo  577387
Processing subhalo  448371
Processing subhalo  592329
Processing subhalo  496369
Processing subhalo  551032
Processing subhalo  592355
Processing subhalo  577402
Processing subhalo  525204
Processing subhalo  496436
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  448447
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  551061
Processing subhalo  577430
Processing subhalo  592390
Processing subhalo  525230
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  577459
Processing subhalo  592397
Processing subhalo  551091
Processing subhalo  496474
Processing subhalo  448525
Processing subhalo  592408
Processing subhalo  525252
Processing subhalo  577476
Processing subhalo  551108
Processing subhalo  592424
Processing subhalo  496515
Processing subhalo  577542
Processing subhalo  525293
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  551168
Processing subhalo  592454
Processing subhalo  448642
Processing subhalo  577551
Processing subhalo  525311
Processing subhalo  592497
Processing subhalo  496545
Processing subhalo  551181
Processing subhalo  577568
Processing subhalo  448732
Processing subhalo  592524
Processing subhalo  525344
Processing subhalo  551194
Processing subhalo  577593
Processing subhalo  496596
Processing subhalo  592573
Processing subhalo  551208
Processing subhalo  577609
Processing subhalo  496646
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  525366
Processing subhalo  448840
Processing subhalo  592594
Processing subhalo  551235
Processing subhalo  577646
Processing subhalo  592600
Processing subhalo  525452
Processing subhalo  496713
Processing subhalo  577653
Processing subhalo  551262
Processing subhalo  592627
Processing subhalo  448928
Processing subhalo  577665
Processing subhalo  525490
Processing subhalo  592660
Processing subhalo  551293
Processing subhalo  496757
Processing subhalo  577764
Processing subhalo  592671
Processing subhalo  449034
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  525520
Processing subhalo  551318
Processing subhalo  577781
Processing subhalo  592682
Processing subhalo  496805
Processing subhalo  551333
Processing subhalo  577792
Processing subhalo  525541
Processing subhalo  592690
Processing subhalo  551363
Processing subhalo  592727
Processing subhalo  577811
Processing subhalo  449099
Processing subhalo  496845
Processing subhalo  525584
Processing subhalo  592734
Processing subhalo  551383
Processing subhalo  577838
Processing subhalo  496906
Processing subhalo  525611
Processing subhalo  592780
Processing subhalo  577853
Processing subhalo  551414
Processing subhalo  449201
Processing subhalo  592854
Processing subhalo  496938
Processing subhalo  577873
Processing subhalo  525634
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  551438
Processing subhalo  592877
Processing subhalo  577902
Processing subhalo  551455
Processing subhalo  592885
Processing subhalo  496990
Processing subhalo  525649
Processing subhalo  577918
Processing subhalo  592910
Processing subhalo  551478
Processing subhalo  449267
Processing subhalo  577936
Processing subhalo  525666
Processing subhalo  497032
Processing subhalo  592920
Processing subhalo  551506
Processing subhalo  577958
Processing subhalo  592977
Processing subhalo  449361
Processing subhalo  525709
Processing subhalo  551570
Processing subhalo  577972
Processing subhalo  592986
Processing subhalo  497088
Processing subhalo  525745
Processing subhalo  593008
Processing subhalo  578018
Processing subhalo  449465
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  551589
Processing subhalo  497138
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  593039
Processing subhalo  578027
Processing subhalo  525787
Processing subhalo  551607
Processing subhalo  593046
Processing subhalo  449549
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  497176
Processing subhalo  578040
Processing subhalo  525802
Processing subhalo  551635
Processing subhalo  593121
Processing subhalo  578049
Processing subhalo  525853
Processing subhalo  551664
Processing subhalo  449651
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  593128
Processing subhalo  497220
Processing subhalo  578065
Processing subhalo  551676
Processing subhalo  593169
Processing subhalo  578094
Processing subhalo  525889
Processing subhalo  593201
Processing subhalo  497258
Processing subhalo  551694
Processing subhalo  449733
Processing subhalo  578112
Processing subhalo  593205
Processing subhalo  525911
Processing subhalo  551727
Processing subhalo  578159
Processing subhalo  497299
Processing subhalo  593226
Processing subhalo  578179
Processing subhalo  525937
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  551748
Processing subhalo  593238
Processing subhalo  578221
Processing subhalo  497351
Processing subhalo  449846
Processing subhalo  593246
Processing subhalo  551774
Processing subhalo  525973
Processing subhalo  578248
Processing subhalo  593260
Processing subhalo  551799
Processing subhalo  593264
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  525993
Processing subhalo  497380
Processing subhalo  578265
Processing subhalo  449910
Processing subhalo  593285
Processing subhalo  551854
Processing subhalo  578277
Processing subhalo  593302
Processing subhalo  497409
Processing subhalo  526030
Processing subhalo  551876
Processing subhalo  578324
Processing subhalo  593358
Processing subhalo  551919
Processing subhalo  526098
Processing subhalo  578352
Processing subhalo  593372
Processing subhalo  449972
Processing subhalo  497450
Processing subhalo  578367
Processing subhalo  593387
Processing subhalo  551950
Processing subhalo  526122
Processing subhalo  578417
Processing subhalo  593430
Processing subhalo  497498
Processing subhalo  551981
Processing subhalo  526153
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  450046
Processing subhalo  593436
Processing subhalo  578426
Processing subhalo  552016
Processing subhalo  593447
Processing subhalo  578511
Processing subhalo  526173
Processing subhalo  552073
Processing subhalo  497529
Processing subhalo  593461
Processing subhalo  578529
Processing subhalo  450126
Processing subhalo  526191
Processing subhalo  593480
Processing subhalo  552100
Processing subhalo  578569
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  526212
Processing subhalo  497548
Processing subhalo  593493
Processing subhalo  552112
Processing subhalo  578577
Processing subhalo  450177
Processing subhalo  593540
Processing subhalo  578591
Processing subhalo  552144
Processing subhalo  526245
Processing subhalo  593583
Processing subhalo  497585
Processing subhalo  578606
Processing subhalo  552166
Processing subhalo  526277
Processing subhalo  450265
Processing subhalo  593636
Processing subhalo  578620
Processing subhalo  552183
Processing subhalo  593667
Processing subhalo  497617
Processing subhalo  578646
Processing subhalo  526301
Processing subhalo  552203
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  593714
Processing subhalo  450337
Processing subhalo  578660
Processing subhalo  526326
Processing subhalo  593735
Processing subhalo  552250
Processing subhalo  497646
Processing subhalo  578698
Processing subhalo  593741
Processing subhalo  526360
Processing subhalo  552272
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  450420
Processing subhalo  578723
Processing subhalo  593763
Processing subhalo  497683
Processing subhalo  526404
Processing subhalo  593809
Processing subhalo  578762
Processing subhalo  552281
Processing subhalo  41582
Processing subhalo  526445
Processing subhalo  593846
Processing subhalo  578798
Processing subhalo  497712
Processing subhalo  450493
Processing subhalo  552296
Processing subhalo  593904
Processing subhalo  578861
Processing subhalo  526476
Processing subhalo  497754
Processing subhalo  593960
Processing subhalo  552312
Processing subhalo  578921
Processing subhalo  450593
Processing subhalo  526509
Processing subhalo  594006
Processing subhalo  552338
Processing subhalo  578937
Processing subhalo  526546
Processing subhalo  594050
Processing subhalo  497800
Processing subhalo  450683
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  578985
Processing subhalo  552367
Processing subhalo  594116
Processing subhalo  579022
Processing subhalo  526581
Processing subhalo  552377
Processing subhalo  594141
Processing subhalo  497838
Processing subhalo  579051
Processing subhalo  552392
Processing subhalo  594146
Processing subhalo  526622
Processing subhalo  450767
Processing subhalo  579067
Processing subhalo  594195
Processing subhalo  497879
Processing subhalo  552408
Processing subhalo  579083
Processing subhalo  526667
Processing subhalo  594242
Processing subhalo  552431
Processing subhalo  579126
Processing subhalo  594253
Processing subhalo  497926
Processing subhalo  450849
Processing subhalo  526696
Processing subhalo  594314
Processing subhalo  579145
Processing subhalo  552469
Processing subhalo  594323
Processing subhalo  526718
Processing subhalo  579157
Processing subhalo  552488
Processing subhalo  497964
Processing subhalo  594364
Processing subhalo  450920
Processing subhalo  579180
Processing subhalo  526756
Processing subhalo  552509
Processing subhalo  594444
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  579197
Processing subhalo  594511
Processing subhalo  451005
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  498011
Processing subhalo  526789
Processing subhalo  579236
Processing subhalo  552541
Processing subhalo  594526
Processing subhalo  552553
Processing subhalo  579262
Processing subhalo  594532
Processing subhalo  498031
Processing subhalo  526820
Processing subhalo  579278
Processing subhalo  594540
Processing subhalo  451090
Processing subhalo  552582
Processing subhalo  498067
Processing subhalo  579296
Processing subhalo  594569
Processing subhalo  526833
Processing subhalo  552596
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  498118
Processing subhalo  594578
Processing subhalo  579339
Processing subhalo  526848
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  552606
Processing subhalo  451179
Processing subhalo  594589
Processing subhalo  579353
Processing subhalo  498171
Processing subhalo  526865
Processing subhalo  594598
Processing subhalo  579363
Processing subhalo  552628
Processing subhalo  451243
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  526902
Processing subhalo  594651
Processing subhalo  579377
Processing subhalo  498203
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  552643
Processing subhalo  594662
Processing subhalo  579388
Processing subhalo  526946
Processing subhalo  552677
Processing subhalo  498248
Processing subhalo  594735
Processing subhalo  579448
Processing subhalo  451323
Processing subhalo  526989
Processing subhalo  552700
Processing subhalo  594742
Processing subhalo  579577
Processing subhalo  552724
Processing subhalo  498297
Processing subhalo  594792
Processing subhalo  527081
Processing subhalo  579596
Processing subhalo  451410
Processing subhalo  594820
Processing subhalo  552746
Processing subhalo  579608
Processing subhalo  498335
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  527123
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  594828
Processing subhalo  579612
Processing subhalo  552765
Processing subhalo  451503
Processing subhalo  527148
Processing subhalo  594843
Processing subhalo  579628
Processing subhalo  498389
Processing subhalo  552776
Processing subhalo  527183
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  594854
Processing subhalo  579641
Processing subhalo  451626
Processing subhalo  594861
Processing subhalo  498415
Processing subhalo  527230
Processing subhalo  552798
Processing subhalo  579649
Processing subhalo  594884
Processing subhalo  552823
Processing subhalo  579661
Processing subhalo  498462
Processing subhalo  527258
Processing subhalo  594902
Processing subhalo  451693
Processing subhalo  579696
Processing subhalo  552840
Processing subhalo  594913
Processing subhalo  498520
Processing subhalo  527288
Processing subhalo  579730
Processing subhalo  552862
Processing subhalo  594921
Processing subhalo  451807
Processing subhalo  579771
Processing subhalo  594937
Processing subhalo  527306
Processing subhalo  498576
Processing subhalo  579788
Processing subhalo  595031
Processing subhalo  552925
Processing subhalo  527326
Processing subhalo  498622
Processing subhalo  451860
Processing subhalo  595073
Processing subhalo  579801
Processing subhalo  552950
Processing subhalo  595089
Processing subhalo  527343
Processing subhalo  579809
Processing subhalo  595123
Processing subhalo  498677
Processing subhalo  451961
Processing subhalo  527377
Processing subhalo  579815
Processing subhalo  552953
Processing subhalo  595156
Processing subhalo  452045
Processing subhalo  498710
Processing subhalo  579849
Processing subhalo  527419
Processing subhalo  595201
Processing subhalo  595238
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  552985
Processing subhalo  579873
Processing subhalo  527441
Processing subhalo  595279
Processing subhalo  452112
Processing subhalo  498768
Processing subhalo  552996
Processing subhalo  595299
Processing subhalo  527473
Processing subhalo  579943
Processing subhalo  595313
Processing subhalo  553024
Processing subhalo  498803
Processing subhalo  452185
Processing subhalo  527508
Processing subhalo  579972
Processing subhalo  595370
Processing subhalo  553043
Processing subhalo  579990
Processing subhalo  595380
Processing subhalo  498854
Processing subhalo  527538
Processing subhalo  580019
Processing subhalo  553069
Processing subhalo  595396
Processing subhalo  580028
Processing subhalo  498879
Processing subhalo  527554
Processing subhalo  553089
Processing subhalo  595498
Processing subhalo  452279
Processing subhalo  580050
Processing subhalo  527595
Processing subhalo  553111
Processing subhalo  595557
Processing subhalo  580093
Processing subhalo  498923
Processing subhalo  527624
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  553133
Processing subhalo  580105
Processing subhalo  595568
Processing subhalo  452357
Processing subhalo  498958
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  527647
Processing subhalo  553143
Processing subhalo  580114
Processing subhalo  595595
Processing subhalo  580125
Processing subhalo  595600
Processing subhalo  527682
Processing subhalo  498984
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  553175
Processing subhalo  452395
Processing subhalo  595610
Processing subhalo  580136
Processing subhalo  553193
Processing subhalo  527744
Processing subhalo  595619
Processing subhalo  580197
Processing subhalo  553214
Processing subhalo  499025
Processing subhalo  452500
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  595632
Processing subhalo  580214
Processing subhalo  527764
Processing subhalo  553235
Processing subhalo  499055
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  595665
Processing subhalo  580225
Processing subhalo  527787
Processing subhalo  452577
Processing subhalo  553250
Processing subhalo  595674
Processing subhalo  580236
Processing subhalo  527822
Processing subhalo  553272
Processing subhalo  595681
Processing subhalo  580242
Processing subhalo  499113
Processing subhalo  452651
Processing subhalo  527857
Processing subhalo  553301
Processing subhalo  595720
Processing subhalo  580256
Processing subhalo  595754
Processing subhalo  580306
Processing subhalo  553327
Processing subhalo  499130
Processing subhalo  527891
Processing subhalo  595791
Processing subhalo  580324
Processing subhalo  452737
Processing subhalo  553354
Processing subhalo  595799
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  580364
Processing subhalo  527905
Processing subhalo  499161
Processing subhalo  553380
Processing subhalo  595804
Processing subhalo  580397
Processing subhalo  527926
Processing subhalo  452839
Processing subhalo  553407
Processing subhalo  499195
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  595832
Processing subhalo  580408
Processing subhalo  527969
Processing subhalo  595867
Processing subhalo  553444
Processing subhalo  580434
Processing subhalo  499223
Processing subhalo  595893
Processing subhalo  52618
Processing subhalo  527996
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  452895
Processing subhalo  580445
Processing subhalo  553466
Processing subhalo  595977
Processing subhalo  499270
Processing subhalo  580458
Processing subhalo  553492
Processing subhalo  528028
Processing subhalo  595986
Processing subhalo  580474
Processing subhalo  596068
Processing subhalo  499320
Processing subhalo  553511
Processing subhalo  528038
Processing subhalo  452955
Processing subhalo  580492
Processing subhalo  596077
Processing subhalo  553529
Processing subhalo  580578
Processing subhalo  499357
Processing subhalo  596102
Processing subhalo  528078
Processing subhalo  453019
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  553545
Processing subhalo  580605
Processing subhalo  596113
Processing subhalo  499383
Processing subhalo  528107
Processing subhalo  580629
Processing subhalo  553572
Processing subhalo  596124
Processing subhalo  580639
Processing subhalo  528130
Processing subhalo  596132
Processing subhalo  499436
Processing subhalo  553581
Processing subhalo  453081
Processing subhalo  580656
Processing subhalo  596140
Processing subhalo  528151
Processing subhalo  553590
Processing subhalo  580681
Processing subhalo  596206
Processing subhalo  580729
Processing subhalo  553604
Processing subhalo  499463
Processing subhalo  528190
Processing subhalo  596240
Processing subhalo  453134
Processing subhalo  580774
Processing subhalo  553630
Processing subhalo  596296
Processing subhalo  528209
Processing subhalo  499487
Processing subhalo  596308
Processing subhalo  580786
Processing subhalo  553664
Processing subhalo  453231
Processing subhalo  596452
Processing subhalo  580799
Processing subhalo  528234
Processing subhalo  553681
Processing subhalo  499522
Processing subhalo  596464
Processing subhalo  580815
Processing subhalo  553700
Processing subhalo  528271
Processing subhalo  596504
Processing subhalo  580836
Processing subhalo  499574
Processing subhalo  453313
Processing subhalo  528296
Processing subhalo  596571
Processing subhalo  553708
Processing subhalo  580865
Processing subhalo  596575
Processing subhalo  553725
Processing subhalo  580870
Processing subhalo  499609
Processing subhalo  528336
Processing subhalo  453393
Processing subhalo  596588
Processing subhalo  553741
Processing subhalo  580893
Processing subhalo  528467
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  596658
Processing subhalo  553774
Processing subhalo  580902
Processing subhalo  596678
Processing subhalo  499636
Processing subhalo  528498
Processing subhalo  453450
Processing subhalo  580917
Processing subhalo  553798
Processing subhalo  596685
Processing subhalo  580953
Processing subhalo  528531
Processing subhalo  596690
Processing subhalo  499679
Processing subhalo  553824
Processing subhalo  580987
Processing subhalo  596699
Processing subhalo  528598
Processing subhalo  453526
Processing subhalo  553869
Processing subhalo  499716
Processing subhalo  580999
Processing subhalo  596727
Processing subhalo  553882
Processing subhalo  581013
Processing subhalo  596768
Processing subhalo  528626
Processing subhalo  499758
Processing subhalo  453609
Processing subhalo  581021
Processing subhalo  596888
Processing subhalo  553906
Processing subhalo  528654
Processing subhalo  581043
Processing subhalo  596921
Processing subhalo  499810
Processing subhalo  553917
Processing subhalo  453713
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  581064
Processing subhalo  596929
Processing subhalo  528672
Processing subhalo  553932
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  581081
Processing subhalo  596973
Processing subhalo  499852
Processing subhalo  453753
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  528694
Processing subhalo  596991
Processing subhalo  581118
Processing subhalo  553954
Processing subhalo  499897
Processing subhalo  581134
Processing subhalo  597066
Processing subhalo  528727
Processing subhalo  553973
Processing subhalo  453835
Processing subhalo  597078
Processing subhalo  581148
Processing subhalo  528760
Processing subhalo  499960
Processing subhalo  597117
Processing subhalo  553994
Processing subhalo  581174
Processing subhalo  453961
Processing subhalo  597135
Processing subhalo  528787
Processing subhalo  499996
Processing subhalo  581185
Processing subhalo  554014
Processing subhalo  597162
Processing subhalo  528821
Processing subhalo  581198
Processing subhalo  454015
Processing subhalo  554028
Processing subhalo  500035
Processing subhalo  597175
Processing subhalo  581230
Processing subhalo  528863
Processing subhalo  554058
Processing subhalo  597322
Processing subhalo  581237
Processing subhalo  500086
Processing subhalo  597335
Processing subhalo  554080
Processing subhalo  454074
Processing subhalo  528880
Processing subhalo  581274
Processing subhalo  597447
Processing subhalo  581288
Processing subhalo  454151
Processing subhalo  554105
Processing subhalo  500114
Processing subhalo  528947
Processing subhalo  597456
Processing subhalo  581296
Processing subhalo  597500
Processing subhalo  554116
Processing subhalo  500148
Processing subhalo  528966
Processing subhalo  581319
Processing subhalo  597507
Processing subhalo  454247
Processing subhalo  554131
Processing subhalo  581338
Processing subhalo  597517
Processing subhalo  529002
Processing subhalo  500188
Processing subhalo  554161
Processing subhalo  581349
Processing subhalo  597526
Processing subhalo  554189
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  581365
Processing subhalo  454306
Processing subhalo  529024
Processing subhalo  597550
Processing subhalo  500239
Processing subhalo  581371
Processing subhalo  597585
Processing subhalo  554210
Processing subhalo  529041
Processing subhalo  581405
Processing subhalo  597595
Processing subhalo  454376
Processing subhalo  554233
Processing subhalo  529130
Processing subhalo  581428
Processing subhalo  500268
Processing subhalo  597628
Processing subhalo  554260
Processing subhalo  529154
Processing subhalo  597691
Processing subhalo  581440
Processing subhalo  454462
Processing subhalo  500294
Processing subhalo  554289
Processing subhalo  597718
Processing subhalo  581450
Processing subhalo  529180
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  597734
Processing subhalo  500330
Processing subhalo  554315
Processing subhalo  581475
Processing subhalo  454539
Processing subhalo  529202
Processing subhalo  597796
Processing subhalo  581487
Processing subhalo  554361
Processing subhalo  500366
Processing subhalo  597848
Processing subhalo  581492
Processing subhalo  529218
Processing subhalo  597985
Processing subhalo  554389
Processing subhalo  454633
Processing subhalo  581556
Processing subhalo  500398
Processing subhalo  598008
Processing subhalo  529247
Processing subhalo  554403
Processing subhalo  581566
Processing subhalo  598025
Processing subhalo  554419
Processing subhalo  581581
Processing subhalo  529270
Processing subhalo  454729
Processing subhalo  598064
Processing subhalo  500448
Processing subhalo  554441
Processing subhalo  581595
Processing subhalo  598107
Processing subhalo  529285
Processing subhalo  454795
Processing subhalo  581603
Processing subhalo  554462
Processing subhalo  598201
Processing subhalo  529307
Processing subhalo  500494
Processing subhalo  581614
Processing subhalo  554492
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  598205
Processing subhalo  581634
Processing subhalo  500532
Processing subhalo  529329
Processing subhalo  554528
Processing subhalo  454898
Processing subhalo  598214
Processing subhalo  581699
Processing subhalo  554549
Processing subhalo  598235
Processing subhalo  529358
Processing subhalo  500575
Processing subhalo  581712
Processing subhalo  454963
Processing subhalo  598247
Processing subhalo  554580
Processing subhalo  529375
Processing subhalo  581724
Processing subhalo  598291
Processing subhalo  500632
Processing subhalo  581742
Processing subhalo  455058
Processing subhalo  554601
Processing subhalo  529426
Processing subhalo  598299
Processing subhalo  581762
Processing subhalo  500665
Processing subhalo  455109
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  554610
Processing subhalo  598322
Processing subhalo  529466
Processing subhalo  581821
Processing subhalo  598365
Processing subhalo  554623
Processing subhalo  581835
Processing subhalo  500725
Processing subhalo  529509
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  598375
Processing subhalo  455198
Processing subhalo  554650
Processing subhalo  581868
Processing subhalo  529535
Processing subhalo  598434
Processing subhalo  500766
Processing subhalo  581880
Processing subhalo  598443
Processing subhalo  554672
Processing subhalo  529575
Processing subhalo  581898
Processing subhalo  500833
Processing subhalo  598455
Processing subhalo  455258
Processing subhalo  554687
Processing subhalo  581910
Processing subhalo  529611
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  598504
Processing subhalo  500867
Processing subhalo  554698
Processing subhalo  581925
Processing subhalo  598511
Processing subhalo  529643
Processing subhalo  455335
Processing subhalo  581965
Processing subhalo  554728
Processing subhalo  598522
Processing subhalo  500922
Processing subhalo  581970
Processing subhalo  529664
Processing subhalo  554748
Processing subhalo  598530
Processing subhalo  455413
Processing subhalo  581999
Processing subhalo  500959
Processing subhalo  598572
Processing subhalo  529739
Processing subhalo  554768
Processing subhalo  582052
Processing subhalo  455479
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  501007
Processing subhalo  598685
Processing subhalo  554795
Processing subhalo  529762
Processing subhalo  582066
Processing subhalo  60731
Processing subhalo  598702
Processing subhalo  455551
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  501066
Processing subhalo  554816
Processing subhalo  582087
Processing subhalo  598750
Processing subhalo  529785
Processing subhalo  554826
Processing subhalo  582117
Processing subhalo  501112
Processing subhalo  598776
Processing subhalo  455637
Processing subhalo  554873
Processing subhalo  582129
Processing subhalo  529804
Processing subhalo  598788
Processing subhalo  501156
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  582161
Processing subhalo  554891
Processing subhalo  598830
Processing subhalo  455730
Processing subhalo  529822
Processing subhalo  501186
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  582170
Processing subhalo  598876
Processing subhalo  554925
Processing subhalo  582176
Processing subhalo  598906
Processing subhalo  529863
Processing subhalo  554954
Processing subhalo  455857
Processing subhalo  582194
Processing subhalo  501215
Processing subhalo  598935
Processing subhalo  529890
Processing subhalo  582204
Processing subhalo  554976
Processing subhalo  598952
Processing subhalo  501244
Processing subhalo  529962
Processing subhalo  582225
Processing subhalo  455957
Processing subhalo  554986
Processing subhalo  598962
Processing subhalo  582247
Processing subhalo  529989
Processing subhalo  555014
Processing subhalo  501292
Processing subhalo  598970
Processing subhalo  582292
Processing subhalo  456014
Processing subhalo  530020
Processing subhalo  555033
Processing subhalo  598995
Processing subhalo  582303
Processing subhalo  501324
Processing subhalo  599020
Processing subhalo  555051
Processing subhalo  530039
Processing subhalo  582312
Processing subhalo  456114
Processing subhalo  599042
Processing subhalo  582339
Processing subhalo  555068
Processing subhalo  530075
Processing subhalo  501368
Processing subhalo  599070
Processing subhalo  582350
Processing subhalo  456168
Processing subhalo  599111
Processing subhalo  555077
Processing subhalo  530101
Processing subhalo  582361
Processing subhalo  501430
Processing subhalo  599187
Processing subhalo  555091
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  582407
Processing subhalo  530121
Processing subhalo  501464
Processing subhalo  599200
Processing subhalo  582419
Processing subhalo  555106
Processing subhalo  456234
Processing subhalo  599248
Processing subhalo  530145
Processing subhalo  582430
Processing subhalo  599272
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  555113
Processing subhalo  501526
Processing subhalo  582479
Processing subhalo  599395
Processing subhalo  530157
Processing subhalo  555132
Processing subhalo  501561
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  582489
Processing subhalo  456283
Processing subhalo  599403
Processing subhalo  530171
Processing subhalo  555161
Processing subhalo  582591
Processing subhalo  599449
Processing subhalo  555177
Processing subhalo  456381
Processing subhalo  582614
Processing subhalo  530222
Processing subhalo  501604
Processing subhalo  599460
Processing subhalo  582651
Processing subhalo  555202
Processing subhalo  599480
Processing subhalo  530250
Processing subhalo  582678
Processing subhalo  501628
Processing subhalo  456456
Processing subhalo  599615
Processing subhalo  555210
Processing subhalo  582689
Processing subhalo  530278
Processing subhalo  599631
Processing subhalo  555252
Processing subhalo  582703
Processing subhalo  501658
Processing subhalo  599768
Processing subhalo  530298
Processing subhalo  582750
Processing subhalo  555292
Processing subhalo  456538
Processing subhalo  501685
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  599851
Processing subhalo  582755
Processing subhalo  555319
Processing subhalo  599868
Processing subhalo  530327
Processing subhalo  582767
Processing subhalo  501720
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  456584
Processing subhalo  555347
Processing subhalo  599902
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  582778
Processing subhalo  530353
Processing subhalo  555382
Processing subhalo  599913
Processing subhalo  501761
Processing subhalo  582790
Processing subhalo  530376
Processing subhalo  555414
Processing subhalo  456634
Processing subhalo  599931
Processing subhalo  582800
Processing subhalo  501795
Processing subhalo  599971
Processing subhalo  555445
Processing subhalo  582816
Processing subhalo  530425
Processing subhalo  600060
Processing subhalo  555463
Processing subhalo  582830
Processing subhalo  501859
Processing subhalo  456725
Processing subhalo  600223
Processing subhalo  530450
Processing subhalo  582847
Processing subhalo  555488
Processing subhalo  600228
Processing subhalo  582879
Processing subhalo  501903
Processing subhalo  530469
Processing subhalo  456786
Processing subhalo  555517
Processing subhalo  600261
Processing subhalo  582905
Processing subhalo  600342
Processing subhalo  555562
Processing subhalo  501949
Processing subhalo  582919
Processing subhalo  530514
Processing subhalo  600398
Processing subhalo  555591
Processing subhalo  582929
Processing subhalo  456872
Processing subhalo  530528
Processing subhalo  501991
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  600405
Processing subhalo  582946
Processing subhalo  555614
Processing subhalo  502043
Processing subhalo  530580
Processing subhalo  600520
Processing subhalo  582962
Processing subhalo  456921
Processing subhalo  555635
Processing subhalo  600630
Processing subhalo  582981
Processing subhalo  530605
Processing subhalo  502087
Processing subhalo  600639
Processing subhalo  555650
Processing subhalo  583024
Processing subhalo  502121
Processing subhalo  530626
Processing subhalo  600706
Processing subhalo  583038
Processing subhalo  555695
Processing subhalo  457000
Processing subhalo  600822
Processing subhalo  583076
Processing subhalo  555713
Processing subhalo  530660
Processing subhalo  502168
Processing subhalo  457086
Processing subhalo  600836
Processing subhalo  583095
Processing subhalo  555734
Processing subhalo  583110
Processing subhalo  600874
Processing subhalo  502209
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  530687
Processing subhalo  555754
Processing subhalo  583129
Processing subhalo  600975
Processing subhalo  530732
Processing subhalo  555776
Processing subhalo  583152
Processing subhalo  502232
Processing subhalo  457169
Processing subhalo  601013
Processing subhalo  583194
Processing subhalo  555802
Processing subhalo  530780
Processing subhalo  601054
Processing subhalo  502279
Processing subhalo  583208
Processing subhalo  555859
Processing subhalo  457227
Processing subhalo  601090
Processing subhalo  530808
Processing subhalo  583239
Processing subhalo  555875
Processing subhalo  601100
Processing subhalo  502312
Processing subhalo  530830
Processing subhalo  583265
Processing subhalo  457296
Processing subhalo  601131
Processing subhalo  555906
Processing subhalo  583277
Processing subhalo  530874
Processing subhalo  601148
Processing subhalo  502347
Processing subhalo  555921
Processing subhalo  583297
Processing subhalo  457361
Processing subhalo  601153
Processing subhalo  530902
Processing subhalo  583379
Processing subhalo  555940
Processing subhalo  502380
Processing subhalo  601203
Processing subhalo  583420
Processing subhalo  530923
Processing subhalo  601239
Processing subhalo  555967
Processing subhalo  457452
Processing subhalo  583480
Processing subhalo  502427
Processing subhalo  530974
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  601305
Processing subhalo  583493
Processing subhalo  555981
Processing subhalo  601324
Processing subhalo  583521
Processing subhalo  555998
Processing subhalo  530987
Processing subhalo  502461
Processing subhalo  457514
Processing subhalo  601372
Processing subhalo  583576
Processing subhalo  556016
Processing subhalo  583580
Processing subhalo  601401
Processing subhalo  531027
Processing subhalo  502503
Processing subhalo  556052
Processing subhalo  583595
Processing subhalo  601477
Processing subhalo  457604
Processing subhalo  531046
Processing subhalo  502521
Processing subhalo  556074
Processing subhalo  583625
Processing subhalo  601507
Processing subhalo  583638
Processing subhalo  531069
Processing subhalo  502560
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  556091
Processing subhalo  601553
Processing subhalo  457697
Processing subhalo  583690
Processing subhalo  601562
Processing subhalo  556103
Processing subhalo  531108
Processing subhalo  583700
Processing subhalo  502595
Processing subhalo  601654
Processing subhalo  457781
Processing subhalo  556140
Processing subhalo  531151
Processing subhalo  583710
Processing subhalo  601661
Processing subhalo  556157
Processing subhalo  583764
Processing subhalo  531178
Processing subhalo  502619
Processing subhalo  601687
Processing subhalo  556183
Processing subhalo  583797
Processing subhalo  601762
Processing subhalo  457871
Processing subhalo  531201
Processing subhalo  556206
Processing subhalo  583810
Processing subhalo  502648
Processing subhalo  601799
Processing subhalo  583814
Processing subhalo  531225
Processing subhalo  556215
Processing subhalo  457931
Processing subhalo  601819
Processing subhalo  583824
Processing subhalo  502685
Processing subhalo  556230
Processing subhalo  601826
Processing subhalo  531253
Processing subhalo  583853
Processing subhalo  457998
Processing subhalo  601834
Processing subhalo  583872
Processing subhalo  502730
Processing subhalo  531279
Processing subhalo  556247
Processing subhalo  601889
Processing subhalo  583886
Processing subhalo  556250
Processing subhalo  531300
Processing subhalo  601914
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  458028
Processing subhalo  583919
Processing subhalo  502767
Processing subhalo  556292
Processing subhalo  601952
Processing subhalo  583946
Processing subhalo  531332
Processing subhalo  458111
Processing subhalo  502796
Processing subhalo  602182
Processing subhalo  583960
Processing subhalo  556307
Processing subhalo  531360
Processing subhalo  602211
Processing subhalo  583994
Processing subhalo  556328
Processing subhalo  502847
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  458174
Processing subhalo  602224
Processing subhalo  584025
Processing subhalo  531391
Processing subhalo  556347
Processing subhalo  602243
Processing subhalo  584064
Processing subhalo  502881
Processing subhalo  556362
Processing subhalo  602352
Processing subhalo  531429
Processing subhalo  584080
Processing subhalo  458231
Processing subhalo  602514
Processing subhalo  584095
Processing subhalo  531455
Processing subhalo  556383
Processing subhalo  502919
Processing subhalo  602535
Processing subhalo  584104
Processing subhalo  556407
Processing subhalo  531474
Processing subhalo  458302
Processing subhalo  602576
Processing subhalo  584134
Processing subhalo  556421
Processing subhalo  502956
Processing subhalo  602619
Processing subhalo  584139
Processing subhalo  531511
Processing subhalo  458378
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  556431
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  602645
Processing subhalo  584170
Processing subhalo  502976
Processing subhalo  531539
Processing subhalo  602683
Processing subhalo  556458
Processing subhalo  584204
Processing subhalo  458447
Processing subhalo  503033
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  602721
Processing subhalo  531574
Processing subhalo  584217
Processing subhalo  556481
Processing subhalo  602761
Processing subhalo  584230
Processing subhalo  556505
Processing subhalo  531606
Processing subhalo  458509
Processing subhalo  503091
Processing subhalo  602766
Processing subhalo  584244
Processing subhalo  556528
Processing subhalo  602788
Processing subhalo  584263
Processing subhalo  531639
Processing subhalo  602829
Processing subhalo  584273
Processing subhalo  503114
Processing subhalo  531659
Processing subhalo  556548
Processing subhalo  602858
Processing subhalo  458604
Processing subhalo  584287
Processing subhalo  503137
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  531697
Processing subhalo  556552
Processing subhalo  602863
Processing subhalo  584299
Processing subhalo  556571
Processing subhalo  458658
Processing subhalo  503194
Processing subhalo  531737
Processing subhalo  602872
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  584313
Processing subhalo  556591
Processing subhalo  531772
Processing subhalo  584320
Processing subhalo  602988
Processing subhalo  503289
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  458722
Processing subhalo  584357
Processing subhalo  556618
Processing subhalo  531806
Processing subhalo  603036
Processing subhalo  503322
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  584378
Processing subhalo  556642
Processing subhalo  458784
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  531830
Processing subhalo  603073
Processing subhalo  584388
Processing subhalo  503364
Processing subhalo  556668
Processing subhalo  584399
Processing subhalo  531870
Processing subhalo  603096
Processing subhalo  458864
Processing subhalo  584411
Processing subhalo  556683
Processing subhalo  603154
Processing subhalo  531900
Processing subhalo  503393
Processing subhalo  584424
Processing subhalo  556705
Processing subhalo  603191
Processing subhalo  458945
Processing subhalo  584439
Processing subhalo  531934
Processing subhalo  503432
Processing subhalo  556715
Processing subhalo  603292
Processing subhalo  584456
Processing subhalo  531951
Processing subhalo  503467
Processing subhalo  584468
Processing subhalo  556736
Processing subhalo  603373
Processing subhalo  459020
Processing subhalo  584473
Processing subhalo  556749
Processing subhalo  531974
Processing subhalo  603448
Processing subhalo  459084
Processing subhalo  503503
Processing subhalo  584528
Processing subhalo  556784
Processing subhalo  603556
Processing subhalo  532001
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  69507
Processing subhalo  584541
Processing subhalo  503530
Processing subhalo  556795
Processing subhalo  459169
Processing subhalo  603576
Processing subhalo  532017
Processing subhalo  556821
Processing subhalo  503582
Processing subhalo  603582
Processing subhalo  532043
Processing subhalo  556845
Processing subhalo  459243
Processing subhalo  603590
Processing subhalo  503636
Processing subhalo  556869
Processing subhalo  532065
Processing subhalo  603658
Processing subhalo  556901
Processing subhalo  459270
Processing subhalo  532086
Processing subhalo  603729
Processing subhalo  503664
Processing subhalo  556921
Processing subhalo  532121
Processing subhalo  603743
Processing subhalo  503706
Processing subhalo  459360
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  556948
Processing subhalo  532146
Processing subhalo  603800
Processing subhalo  556962
Processing subhalo  503750
Processing subhalo  459394
Processing subhalo  532179
Processing subhalo  603821
Processing subhalo  556980
Processing subhalo  459517
Processing subhalo  603887
Processing subhalo  503778
Processing subhalo  557018
Processing subhalo  532205
Processing subhalo  557070
Processing subhalo  603892
Processing subhalo  503826
Processing subhalo  459576
Processing subhalo  532226
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  557080
Processing subhalo  603896
Processing subhalo  503880
Processing subhalo  532244
Processing subhalo  459665
Processing subhalo  557098
Processing subhalo  603976
Processing subhalo  503916
Processing subhalo  459730
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  532271
Processing subhalo  557127
Processing subhalo  604139
Processing subhalo  503951
Processing subhalo  532301
Processing subhalo  557139
Processing subhalo  604151
Processing subhalo  459786
Processing subhalo  557154
Processing subhalo  532340
Processing subhalo  604224
Processing subhalo  504000
Processing subhalo  557180
Processing subhalo  532362
Processing subhalo  604233
Processing subhalo  459850
Processing subhalo  504030
Processing subhalo  532385
Processing subhalo  557201
Processing subhalo  604283
Processing subhalo  557213
Processing subhalo  604340
Processing subhalo  532414
Processing subhalo  459906
Processing subhalo  504065
Processing subhalo  557236
Processing subhalo  604498
Processing subhalo  532437
Processing subhalo  504093
Processing subhalo  557252
Processing subhalo  604528
Processing subhalo  532465
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  459959
Processing subhalo  557269
Processing subhalo  604696
Processing subhalo  532488
Processing subhalo  504142
Processing subhalo  557291
Processing subhalo  604701
Processing subhalo  460008
Processing subhalo  532518
Processing subhalo  557314
Processing subhalo  504177
Processing subhalo  604713
Processing subhalo  532548
Processing subhalo  557335
Processing subhalo  604823
Processing subhalo  460076
Processing subhalo  504227
Processing subhalo  532569
Processing subhalo  557388
Processing subhalo  604890
Processing subhalo  532600
Processing subhalo  504295
Processing subhalo  557414
Processing subhalo  604925
Processing subhalo  460117
Processing subhalo  557434
Processing subhalo  532627
Processing subhalo  604946
Processing subhalo  504350
Processing subhalo  557455
Processing subhalo  532665
Processing subhalo  460193
Processing subhalo  604949
Processing subhalo  504383
Processing subhalo  557488
Processing subhalo  532710
Processing subhalo  604995
Processing subhalo  504426
Processing subhalo  557500
Processing subhalo  532741
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  460273
Processing subhalo  605166
Processing subhalo  557520
Processing subhalo  504488
Processing subhalo  532774
Processing subhalo  605181
Processing subhalo  557560
Processing subhalo  460351
Processing subhalo  504549
Processing subhalo  532802
Processing subhalo  605190
Processing subhalo  557606
Processing subhalo  532828
Processing subhalo  605252
Processing subhalo  504593
Processing subhalo  557627
Processing subhalo  460434
Processing subhalo  532864
Processing subhalo  605305
Processing subhalo  557637
Processing subhalo  504650
Processing subhalo  532889
Processing subhalo  605366
Processing subhalo  460526
Processing subhalo  557657
Processing subhalo  504691
Processing subhalo  605408
Processing subhalo  532912
Processing subhalo  557675
Processing subhalo  460595
Processing subhalo  605438
Processing subhalo  557692
Processing subhalo  504730
Processing subhalo  532939
Processing subhalo  605464
Processing subhalo  557730
Processing subhalo  504757
Processing subhalo  532963
Processing subhalo  460692
Processing subhalo  605524
Processing subhalo  557749
Processing subhalo  504785
Processing subhalo  76086
Processing subhalo  532983
Processing subhalo  605620
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  557761
Processing subhalo  605678
Processing subhalo  533001
Processing subhalo  460746
Processing subhalo  504837
Processing subhalo  557768
Processing subhalo  605727
Processing subhalo  533016
Processing subhalo  557786
Processing subhalo  504863
Processing subhalo  605817
Processing subhalo  533044
Processing subhalo  460823
Processing subhalo  557804
Processing subhalo  605831
Processing subhalo  504912
Processing subhalo  533063
Processing subhalo  557822
Processing subhalo  605872
Processing subhalo  533092
Processing subhalo  504954
Processing subhalo  460888
Processing subhalo  557864
Processing subhalo  605882
Processing subhalo  533125
Processing subhalo  557878
Processing subhalo  504994
Processing subhalo  605920
Processing subhalo  460939
Processing subhalo  533151
Processing subhalo  557900
Processing subhalo  605957
Processing subhalo  505030
Processing subhalo  533182
Processing subhalo  557923
Processing subhalo  605963
Processing subhalo  461038
Processing subhalo  505067
Processing subhalo  533224
Processing subhalo  557943
Processing subhalo  605967
Processing subhalo  533323
Processing subhalo  505106
Processing subhalo  557964
Processing subhalo  606140
Processing subhalo  461136
Processing subhalo  557979
Processing subhalo  606196
Processing subhalo  505164
Processing subhalo  533355
Processing subhalo  606243
Processing subhalo  558003
Processing subhalo  505211
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  533384
Processing subhalo  461202
Processing subhalo  606286
Processing subhalo  558021
Processing subhalo  533426
Processing subhalo  505253
Processing subhalo  606383
Processing subhalo  558045
Processing subhalo  461283
Processing subhalo  533457
Processing subhalo  606391
Processing subhalo  505333
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  558069
Processing subhalo  533481
Processing subhalo  606435
Processing subhalo  558084
Processing subhalo  505379
Processing subhalo  461364
Processing subhalo  533521
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  606503
Processing subhalo  558139
Processing subhalo  505455
Processing subhalo  461450
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  606513
Processing subhalo  533543
Processing subhalo  558164
Processing subhalo  606573
Processing subhalo  505481
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  461521
Processing subhalo  558183
Processing subhalo  533573
Processing subhalo  606626
Processing subhalo  505530
Processing subhalo  558207
Processing subhalo  533592
Processing subhalo  606707
Processing subhalo  461609
Processing subhalo  558231
Processing subhalo  533614
Processing subhalo  505572
Processing subhalo  606850
Processing subhalo  558247
Processing subhalo  533648
Processing subhalo  606889
Processing subhalo  461667
Processing subhalo  558276
Processing subhalo  505616
Processing subhalo  607039
Processing subhalo  533667
Processing subhalo  461709
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  558305
Processing subhalo  505642
Processing subhalo  607042
Processing subhalo  558321
Processing subhalo  533692
Processing subhalo  607125
Processing subhalo  505752
Processing subhalo  461806
Processing subhalo  533722
Processing subhalo  558344
Processing subhalo  607220
Processing subhalo  558384
Processing subhalo  533763
Processing subhalo  505793
Processing subhalo  607424
Processing subhalo  461864
Processing subhalo  558402
Processing subhalo  533789
Processing subhalo  607471
Processing subhalo  505831
Processing subhalo  558418
Processing subhalo  607481
Processing subhalo  461929
Processing subhalo  533814
Processing subhalo  607524
Processing subhalo  505860
Processing subhalo  558473
Processing subhalo  533843
Processing subhalo  462010
Processing subhalo  558487
Processing subhalo  607536
Processing subhalo  533878
Processing subhalo  505892
Processing subhalo  558519
Processing subhalo  607586
Processing subhalo  533913
Processing subhalo  607627
Processing subhalo  558537
Processing subhalo  462077
Processing subhalo  505928
Processing subhalo  558550
Processing subhalo  607664
Processing subhalo  533931
Processing subhalo  505967
Processing subhalo  462141
Processing subhalo  607786
Processing subhalo  558583
Processing subhalo  533946
Processing subhalo  607830
Processing subhalo  558600
Processing subhalo  506022
Processing subhalo  533992
Processing subhalo  462189
Processing subhalo  607890
Processing subhalo  558624
Processing subhalo  534020
Processing subhalo  506063
Processing subhalo  607944
Processing subhalo  558642
Processing subhalo  534052
Processing subhalo  462241
Processing subhalo  607951
Processing subhalo  506106
Processing subhalo  534095
Processing subhalo  558656
Processing subhalo  608007
Processing subhalo  462323
Processing subhalo  558679
Processing subhalo  506138
Processing subhalo  534122
Processing subhalo  608016
Processing subhalo  558703
Processing subhalo  608095
Processing subhalo  534183
Processing subhalo  462391
Processing subhalo  506174
Processing subhalo  558726
Processing subhalo  608159
Processing subhalo  534206
Processing subhalo  558753
Processing subhalo  462481
Processing subhalo  608209
Processing subhalo  506207
Processing subhalo  534234
Processing subhalo  558761
Processing subhalo  608274
Processing subhalo  534267
Processing subhalo  506244
Processing subhalo  558782
Processing subhalo  608283
Processing subhalo  462564
Processing subhalo  534285
Processing subhalo  506279
Processing subhalo  558800
Processing subhalo  608296
Processing subhalo  558809
Processing subhalo  534303
Processing subhalo  608348
Processing subhalo  506313
Processing subhalo  462631
Processing subhalo  558839
Processing subhalo  534325
Processing subhalo  608353
Processing subhalo  506356
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  608559
Processing subhalo  534362
Processing subhalo  558864
Processing subhalo  462690
Processing subhalo  608595
Processing subhalo  534397
Processing subhalo  506393
Processing subhalo  558876
Processing subhalo  534438
Processing subhalo  608638
Processing subhalo  558919
Processing subhalo  462775
Processing subhalo  506409
Processing subhalo  608693
Processing subhalo  558938
Processing subhalo  534489
Processing subhalo  506435
Processing subhalo  462832
Processing subhalo  608833
Processing subhalo  558955
Processing subhalo  534514
Processing subhalo  608949
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  506481
Processing subhalo  558970
Processing subhalo  462904
Processing subhalo  609005
Processing subhalo  534539
Processing subhalo  558988
Processing subhalo  506526
Processing subhalo  462986
Processing subhalo  609029
Processing subhalo  559011
Processing subhalo  534563
Processing subhalo  506566
Processing subhalo  609066
Processing subhalo  559031
Processing subhalo  534588
Processing subhalo  463062
Processing subhalo  609072
Processing subhalo  559054
Processing subhalo  506609
Processing subhalo  534630
Processing subhalo  609095
Processing subhalo  463139
Processing subhalo  559092
Processing subhalo  534648
Processing subhalo  609101
Processing subhalo  506653
Processing subhalo  559115
Processing subhalo  609172
Processing subhalo  534682
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  463233
Processing subhalo  559142
Processing subhalo  506719
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  609197
Processing subhalo  534699
Processing subhalo  559158
Processing subhalo  609212
Processing subhalo  463278
Processing subhalo  506753
Processing subhalo  534712
Processing subhalo  559208
Processing subhalo  609279
Processing subhalo  506782
Processing subhalo  534747
Processing subhalo  559263
Processing subhalo  463340
Processing subhalo  609286
Processing subhalo  506823
Processing subhalo  534771
Processing subhalo  559290
Processing subhalo  609462
Processing subhalo  463395
Processing subhalo  609496
Processing subhalo  559315
Processing subhalo  506877
Processing subhalo  534795
Processing subhalo  609531
Processing subhalo  559335
Processing subhalo  534824
Processing subhalo  506903
Processing subhalo  463453
Processing subhalo  609765
Processing subhalo  559401
Processing subhalo  534859
Processing subhalo  609851
Processing subhalo  559419
Processing subhalo  506943
Processing subhalo  463521
Processing subhalo  534882
Processing subhalo  559475
Processing subhalo  609965
Processing subhalo  506992
Processing subhalo  534906
Processing subhalo  559499
Processing subhalo  609986
Processing subhalo  463597
Processing subhalo  559510
Processing subhalo  534936
Processing subhalo  610084
Processing subhalo  507025
Processing subhalo  535034
Processing subhalo  559536
Processing subhalo  463649
Processing subhalo  610118
Processing subhalo  535086
Processing subhalo  507070
Processing subhalo  610196
Processing subhalo  559548
Processing subhalo  610208
Processing subhalo  535117
Processing subhalo  463750
Processing subhalo  559556
Processing subhalo  507096
Processing subhalo  610216
Processing subhalo  535148
Processing subhalo  559574
Processing subhalo  463804
Processing subhalo  610259
Processing subhalo  559636
Processing subhalo  535168
Processing subhalo  507130
Processing subhalo  610442
Processing subhalo  559654
Processing subhalo  535203
Processing subhalo  463894
Processing subhalo  507157
Processing subhalo  610496
Processing subhalo  559664
Processing subhalo  535220
Processing subhalo  507200
Processing subhalo  610606
Processing subhalo  559677
Processing subhalo  463958
Processing subhalo  535240
Processing subhalo  610738
Processing subhalo  559695
Processing subhalo  507256
Processing subhalo  464018
Processing subhalo  610747
Processing subhalo  535262
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  559710
Processing subhalo  610759
Processing subhalo  507299
Processing subhalo  559737
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  535279
Processing subhalo  464110
Processing subhalo  610774
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  559752
Processing subhalo  507327
Processing subhalo  610789
Processing subhalo  535303
Processing subhalo  559782
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  464182
Processing subhalo  610894
Processing subhalo  535319
Processing subhalo  559800
Processing subhalo  507361
Processing subhalo  83280
Processing subhalo  611031
Processing subhalo  535372
Processing subhalo  559837
Processing subhalo  507397
Processing subhalo  611036
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  464247
Processing subhalo  535397
Processing subhalo  559866
Processing subhalo  611199
Processing subhalo  507516
Processing subhalo  535428
Processing subhalo  559887
Processing subhalo  611270
Processing subhalo  464292
Processing subhalo  559901
Processing subhalo  507556
Processing subhalo  535452
Processing subhalo  611363
Processing subhalo  559917
Processing subhalo  535486
Processing subhalo  464331
Processing subhalo  611399
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  507587
Processing subhalo  559945
Processing subhalo  611425
Processing subhalo  535525
Processing subhalo  559963
Processing subhalo  464422
Processing subhalo  611488
Processing subhalo  507624
Processing subhalo  535539
Processing subhalo  559993
Processing subhalo  611533
Processing subhalo  507666
Processing subhalo  464490
Processing subhalo  535580
Processing subhalo  560021
Processing subhalo  611572
Processing subhalo  535614
Processing subhalo  507701
Processing subhalo  560034
Processing subhalo  611710
Processing subhalo  535641
Processing subhalo  560072
Processing subhalo  464539
Processing subhalo  507742
Processing subhalo  611947
Processing subhalo  560103
Processing subhalo  535662
Processing subhalo  611996
Processing subhalo  464576
Processing subhalo  535680
Processing subhalo  507775
Processing subhalo  560119
Processing subhalo  612162
Processing subhalo  464669
Processing subhalo  560137
Processing subhalo  507807
Processing subhalo  612255
Processing subhalo  535709
Processing subhalo  560164
Processing subhalo  612311
Processing subhalo  535742
Processing subhalo  464742
Processing subhalo  507865
Processing subhalo  560188
Processing subhalo  612331
Processing subhalo  560213
Processing subhalo  535757
Processing subhalo  507900
Processing subhalo  612534
Processing subhalo  464788
Processing subhalo  560241
Processing subhalo  535774
Processing subhalo  612555
Processing subhalo  560268
Processing subhalo  535792
Processing subhalo  612577
Processing subhalo  507933
Processing subhalo  560277
Processing subhalo  464894
Processing subhalo  612649
Processing subhalo  535817
Processing subhalo  560291
Processing subhalo  507965
Processing subhalo  612780
Processing subhalo  612789
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  464936
Processing subhalo  535836
Processing subhalo  560301
Processing subhalo  612798
Processing subhalo  507984
Processing subhalo  560316
Processing subhalo  465016
Processing subhalo  535873
Processing subhalo  612868
Processing subhalo  508020
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  560344
Processing subhalo  612932
Processing subhalo  535887
Processing subhalo  560367
Processing subhalo  508058
Processing subhalo  465080
Processing subhalo  612974
Processing subhalo  535900
Processing subhalo  560392
Processing subhalo  508114
Processing subhalo  612994
Processing subhalo  560404
Processing subhalo  535937
Processing subhalo  613012
Processing subhalo  535958
Processing subhalo  560426
Processing subhalo  465136
Processing subhalo  508156
Processing subhalo  613096
Processing subhalo  560437
Processing subhalo  535998
Processing subhalo  613130
Processing subhalo  508188
Processing subhalo  465205
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  560471
Processing subhalo  613164
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  536030
Processing subhalo  560495
Processing subhalo  508239
Processing subhalo  465284
Processing subhalo  613173
Processing subhalo  536048
Processing subhalo  560527
Processing subhalo  613189
Processing subhalo  508263
Processing subhalo  465320
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  536061
Processing subhalo  560547
Processing subhalo  613319
Processing subhalo  560576
Processing subhalo  536117
Processing subhalo  508294
Processing subhalo  613338
Processing subhalo  465361
Processing subhalo  560594
Processing subhalo  536143
Processing subhalo  613551
Processing subhalo  508327
Processing subhalo  560627
Processing subhalo  465412
Processing subhalo  613567
Processing subhalo  536201
Processing subhalo  508360
Processing subhalo  560641
Processing subhalo  613748
Processing subhalo  536221
Processing subhalo  560668
Processing subhalo  613779
Processing subhalo  508386
Processing subhalo  465495
Processing subhalo  536255
Processing subhalo  560692
Processing subhalo  613788
Processing subhalo  508433
Processing subhalo  536279
Processing subhalo  560713
Processing subhalo  613977
Processing subhalo  465548
Processing subhalo  536307
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  560743
Processing subhalo  614182
Processing subhalo  508463
Processing subhalo  560782
Processing subhalo  536324
Processing subhalo  614193
Processing subhalo  508523
Processing subhalo  465614
Processing subhalo  560800
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  614249
Processing subhalo  536355
Processing subhalo  465693
Processing subhalo  508564
Processing subhalo  614309
Processing subhalo  560803
Processing subhalo  536387
Processing subhalo  614362
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  560827
Processing subhalo  465764
Processing subhalo  508596
Processing subhalo  536420
Processing subhalo  614463
Processing subhalo  465842
Processing subhalo  560858
Processing subhalo  508627
Processing subhalo  536439
Processing subhalo  614671
Processing subhalo  465921
Processing subhalo  560874
Processing subhalo  536453
Processing subhalo  508677
Processing subhalo  615126
Processing subhalo  560895
Processing subhalo  615164
Processing subhalo  536491
Processing subhalo  466003
Processing subhalo  508709
Processing subhalo  560919
Processing subhalo  615246
Processing subhalo  536511
Processing subhalo  560928
Processing subhalo  466055
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  508748
Processing subhalo  615350
Processing subhalo  536534
Processing subhalo  560948
Processing subhalo  615463
Processing subhalo  508795
Processing subhalo  466133
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  560967
Processing subhalo  536554
Processing subhalo  615518
Processing subhalo  508824
Processing subhalo  466182
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  615552
Processing subhalo  560985
Processing subhalo  536592
Processing subhalo  615698
Processing subhalo  508854
Processing subhalo  560997
Processing subhalo  466265
Processing subhalo  536615
Processing subhalo  615762
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  561014
Processing subhalo  508888
Processing subhalo  615983
Processing subhalo  561041
Processing subhalo  536640
Processing subhalo  466332
Processing subhalo  508955
Processing subhalo  616007
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  561065
Processing subhalo  536669
Processing subhalo  616110
Processing subhalo  561104
Processing subhalo  536736
Processing subhalo  508985
Processing subhalo  616173
Processing subhalo  466387
Processing subhalo  561123
Processing subhalo  616239
Processing subhalo  536758
Processing subhalo  509018
Processing subhalo  561157
Processing subhalo  616783
Processing subhalo  536790
Processing subhalo  466436
Processing subhalo  509042
Processing subhalo  561176
Processing subhalo  616810
Processing subhalo  536830
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  466493
Processing subhalo  561204
Processing subhalo  617023
Processing subhalo  536844
Processing subhalo  509079
Processing subhalo  561234
Processing subhalo  617066
Processing subhalo  466599
Processing subhalo  536863
Processing subhalo  561246
Processing subhalo  617106
Processing subhalo  509103
Processing subhalo  536887
Processing subhalo  561258
Processing subhalo  466694
Processing subhalo  617343
Processing subhalo  509131
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  536909
Processing subhalo  561331
Processing subhalo  617442
Processing subhalo  509167
Processing subhalo  536927
Processing subhalo  561358
Processing subhalo  617514
Processing subhalo  466746
Processing subhalo  509196
Processing subhalo  536976
Processing subhalo  561366
Processing subhalo  617793
Processing subhalo  466801
Processing subhalo  509256
Processing subhalo  561381
Processing subhalo  617874
Processing subhalo  536998
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  618186
Processing subhalo  561429
Processing subhalo  509301
Processing subhalo  537006
Processing subhalo  466894
Processing subhalo  618428
Processing subhalo  561448
Processing subhalo  537029
Processing subhalo  509363
Processing subhalo  618432
Processing subhalo  561470
Processing subhalo  537064
Processing subhalo  618546
Processing subhalo  466958
Processing subhalo  561492
Processing subhalo  509402
Processing subhalo  618597
Processing subhalo  537096
Processing subhalo  561508
Processing subhalo  618886
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  509446
Processing subhalo  561525
Processing subhalo  537133
Processing subhalo  467011
Processing subhalo  618982
Processing subhalo  561543
Processing subhalo  619048
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  537154
Processing subhalo  509468
Processing subhalo  561556
Processing subhalo  619241
Processing subhalo  467052
Processing subhalo  537164
Processing subhalo  561577
Processing subhalo  509491
Processing subhalo  619359
Processing subhalo  537203
Processing subhalo  561601
Processing subhalo  467127
Processing subhalo  619368
Processing subhalo  509521
Processing subhalo  561631
Processing subhalo  537227
Processing subhalo  619801
Processing subhalo  561654
Processing subhalo  467212
Processing subhalo  509561
Processing subhalo  537259
Processing subhalo  619826
Processing subhalo  561675
Processing subhalo  619855
Processing subhalo  537273
Processing subhalo  509608
Processing subhalo  561689
Processing subhalo  467256
Processing subhalo  620233
Processing subhalo  509646
Processing subhalo  537303
Processing subhalo  561723
Processing subhalo  620337
Processing subhalo  467308
Processing subhalo  509689
Processing subhalo  537321
Processing subhalo  620412
Processing subhalo  561729
Processing subhalo  509728
Processing subhalo  88663
Processing subhalo  537340
Processing subhalo  620694
Processing subhalo  561746
Processing subhalo  467385
Processing subhalo  537365
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  620795
Processing subhalo  509766
Processing subhalo  561758
Processing subhalo  620820
Processing subhalo  537403
Processing subhalo  561782
Processing subhalo  467445
Processing subhalo  509805
Processing subhalo  620916
Processing subhalo  537426
Processing subhalo  561800
Processing subhalo  509857
Processing subhalo  467519
Processing subhalo  621027
Processing subhalo  561826
Processing subhalo  537473
Processing subhalo  509903
Processing subhalo  621239
Processing subhalo  537504
Processing subhalo  561846
Processing subhalo  467575
Processing subhalo  509922
Processing subhalo  621300
Processing subhalo  561865
Processing subhalo  537536
Processing subhalo  621332
Processing subhalo  561897
Processing subhalo  467628
Processing subhalo  537569
Processing subhalo  509994
Processing subhalo  621344
Processing subhalo  561925
Processing subhalo  537594
Processing subhalo  467700
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  510014
Processing subhalo  621820
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  561936
Processing subhalo  537631
Processing subhalo  621903
Processing subhalo  510059
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  561961
Processing subhalo  467740
Processing subhalo  621927
Processing subhalo  537670
Processing subhalo  561983
Processing subhalo  510085
Processing subhalo  622407
Processing subhalo  537690
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  561992
Processing subhalo  467798
Processing subhalo  510122
Processing subhalo  622448
Processing subhalo  537713
Processing subhalo  562018
Processing subhalo  622488
Processing subhalo  562024
Processing subhalo  510161
Processing subhalo  537743
Processing subhalo  467871
Processing subhalo  622526
Processing subhalo  562043
Processing subhalo  510206
Processing subhalo  537751
Processing subhalo  562053
Processing subhalo  622603
Processing subhalo  537791
Processing subhalo  510245
Processing subhalo  467919
Processing subhalo  622665
Processing subhalo  562066
Processing subhalo  537815
Processing subhalo  562088
Processing subhalo  622795
Processing subhalo  467958
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  510299
Processing subhalo  537843
Processing subhalo  562109
Processing subhalo  622864
Processing subhalo  537865
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  510323
Processing subhalo  562176
Processing subhalo  623269
Processing subhalo  468006
Processing subhalo  537893
Processing subhalo  623290
Processing subhalo  562199
Processing subhalo  510362
Processing subhalo  537914
Processing subhalo  623292
Processing subhalo  562211
Processing subhalo  468064
Processing subhalo  537945
Processing subhalo  510390
Processing subhalo  623331
Processing subhalo  562221
Processing subhalo  537981
Processing subhalo  562233
Processing subhalo  623837
Processing subhalo  510430
Processing subhalo  468110
Processing subhalo  538009
Processing subhalo  623896
Processing subhalo  562266
Processing subhalo  510458
Processing subhalo  468168
Processing subhalo  538080
Processing subhalo  624189
Processing subhalo  562310
Processing subhalo  510495
Processing subhalo  538098
Processing subhalo  624490
Processing subhalo  562333
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  624728
Processing subhalo  468251
Processing subhalo  562344
Processing subhalo  538134
Processing subhalo  510533
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  624819
Processing subhalo  562361
Processing subhalo  538155
Processing subhalo  468318
Processing subhalo  510567
Processing subhalo  625759
Processing subhalo  562385
Processing subhalo  538179
Processing subhalo  468382
Processing subhalo  625949
Processing subhalo  510594
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  538216
Processing subhalo  562410
Processing subhalo  626383
Processing subhalo  468450
Processing subhalo  562417
Processing subhalo  538235
Processing subhalo  510631
Processing subhalo  626437
Processing subhalo  562432
Processing subhalo  538258
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  626552
Processing subhalo  468508
Processing subhalo  562455
Processing subhalo  538279
Processing subhalo  510680
Processing subhalo  626620
Processing subhalo  562481
Processing subhalo  626711
Processing subhalo  538295
Processing subhalo  562515
Processing subhalo  468590
Processing subhalo  510728
Processing subhalo  626753
Processing subhalo  538314
Processing subhalo  562544
Processing subhalo  468623
Processing subhalo  510751
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  626880
Processing subhalo  538343
Processing subhalo  562569
Processing subhalo  626904
Processing subhalo  538364
Processing subhalo  562589
Processing subhalo  510778
Processing subhalo  468695
Processing subhalo  627057
Processing subhalo  562629
Processing subhalo  538388
Processing subhalo  510806
Processing subhalo  627071
Processing subhalo  468759
Processing subhalo  562647
Processing subhalo  538406
Processing subhalo  627099
Processing subhalo  510836
Processing subhalo  627157
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  562669
Processing subhalo  538444
Processing subhalo  627406
Processing subhalo  468817
Processing subhalo  510861
Processing subhalo  562683
Processing subhalo  627492
Processing subhalo  538481
Processing subhalo  468888
Processing subhalo  562729
Processing subhalo  510882
Processing subhalo  627549
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  538496
Processing subhalo  562798
Processing subhalo  627709
Processing subhalo  510912
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  538535
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  562883
Processing subhalo  627877
Processing subhalo  468921
Processing subhalo  510944
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  538541
Processing subhalo  562905
Processing subhalo  627931
Processing subhalo  468967
Processing subhalo  562913
Processing subhalo  628638
Processing subhalo  538557
Processing subhalo  511005
Processing subhalo  628768
Processing subhalo  562940
Processing subhalo  538580
Processing subhalo  628868
Processing subhalo  562968
Processing subhalo  469060
Processing subhalo  511021
Processing subhalo  538605
Processing subhalo  628956
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  563004
Processing subhalo  511059
Processing subhalo  538624
Processing subhalo  628959
Processing subhalo  469102
Processing subhalo  563020
Processing subhalo  629166
Processing subhalo  538645
Processing subhalo  511095
Processing subhalo  563039
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  469147
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  629409
Processing subhalo  538680
Processing subhalo  563082
Processing subhalo  511127
Processing subhalo  629448
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  538690
Processing subhalo  563107
Processing subhalo  469204
Processing subhalo  629477
Processing subhalo  511175
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  563126
Processing subhalo  538736
Processing subhalo  629643
Processing subhalo  563151
Processing subhalo  469265
Processing subhalo  629833
Processing subhalo  538761
Processing subhalo  511195
Processing subhalo  563171
Processing subhalo  630251
Processing subhalo  538797
Processing subhalo  511214
Processing subhalo  563187
Processing subhalo  469315
Processing subhalo  630891
Processing subhalo  538824
Processing subhalo  511252
Processing subhalo  563206
Processing subhalo  630986
Processing subhalo  563216
Processing subhalo  469377
Processing subhalo  631104
Processing subhalo  538846
Processing subhalo  511274
Processing subhalo  563234
Processing subhalo  631127
Processing subhalo  538868
Processing subhalo  632028
Processing subhalo  563241
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  632168
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  511298
Processing subhalo  538887
Processing subhalo  469438
Processing subhalo  563276
Processing subhalo  632350
Processing subhalo  511327
Processing subhalo  538906
Processing subhalo  563315
Processing subhalo  538935
Processing subhalo  469464
Processing subhalo  511362
Processing subhalo  563382
Processing subhalo  632447
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  538960
Processing subhalo  563400
Processing subhalo  511401
Processing subhalo  563417
Processing subhalo  539002
Processing subhalo  469502
/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/numpy/__init__.py:140: UserWarning: mkl-service package failed to import, therefore Intel(R) MKL initialization ensuring its correct out-of-the box operation under condition when Gnu OpenMP had already been loaded by Python process is not assured. Please install mkl-service package, see http://github.com/IntelPython/mkl-service
  from . import _distributor_init
Processing subhalo  563467
Processing subhalo  511443
Processing subhalo  539035
Processing subhalo  633074
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  563491
Processing subhalo  511501
Processing subhalo  539066
Processing subhalo  563504
Processing subhalo  511542
Processing subhalo  539085
Processing subhalo  563519
Processing subhalo  539114
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  96500
Processing subhalo  563537
Processing subhalo  511576
Processing subhalo  539141
Processing subhalo  469539
Processing subhalo  563555
Processing subhalo  633090
Processing subhalo  539170
Processing subhalo  563572
Processing subhalo  511600
Processing subhalo  469589
Processing subhalo  539187
Processing subhalo  563598
Processing subhalo  511638
Processing subhalo  102683
Processing subhalo  539227
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 60, in velocities
    group_cat = physics.properties.group_properties(group_cat, base_path)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 48, in group_properties
    df_halos = il.pandasformat.dict_to_pandas(il.groupcat.loadHalos(base_path, 99, halo_fields))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 17, in dict_to_pandas
    data[key] = list(dummy)
MemoryError
Traceback (most recent call last):
  File "./src/cluster_run.py", line 1, in <module>
    import safe_tester
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 8, in <module>
    import process_snapshot as process
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 5, in <module>
    import illustris_python as il
  File "/cluster/work/aurorasg/TNG/src/illustris_python/__init__.py", line 3, in <module>
    from . import *
  File "/cluster/work/aurorasg/TNG/src/illustris_python/stats.py", line 6, in <module>
    from sklearn.linear_model import LinearRegression
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/sklearn/__init__.py", line 80, in <module>
    from .base import clone
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/sklearn/base.py", line 21, in <module>
    from .utils import _IS_32BIT
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/sklearn/utils/__init__.py", line 23, in <module>
    from .class_weight import compute_class_weight, compute_sample_weight
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/sklearn/utils/class_weight.py", line 7, in <module>
    from .validation import _deprecate_positional_args
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/sklearn/utils/validation.py", line 26, in <module>
    from .fixes import _object_dtype_isnan
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/sklearn/utils/fixes.py", line 18, in <module>
    import scipy.stats
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/scipy/stats/__init__.py", line 388, in <module>
    from .stats import *
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/scipy/stats/stats.py", line 180, in <module>
    from . import distributions
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/scipy/stats/distributions.py", line 8, in <module>
    from ._distn_infrastructure import (entropy, rv_discrete, rv_continuous,
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/scipy/stats/_distn_infrastructure.py", line 23, in <module>
    from scipy import optimize
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/scipy/optimize/__init__.py", line 388, in <module>
    from ._minimize import *
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/scipy/optimize/_minimize.py", line 32, in <module>
    from .cobyla import _minimize_cobyla
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/scipy/optimize/cobyla.py", line 17, in <module>
    from scipy.optimize import _cobyla
ImportError: /cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/scipy/optimize/_cobyla.cpython-38-x86_64-linux-gnu.so: failed to map segment from shared object
Processing subhalo  563648
Processing subhalo  511687
Processing subhalo  539259
Processing subhalo  563655
Processing subhalo  563662
Processing subhalo  469705
Processing subhalo  511714
Processing subhalo  539284
Processing subhalo  563683
Processing subhalo  633114
Processing subhalo  539298
Processing subhalo  563712
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  511748
Processing subhalo  469740
Processing subhalo  563727
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  539328
Processing subhalo  511787
Processing subhalo  563760
Processing subhalo  539362
Processing subhalo  563783
Processing subhalo  511826
Processing subhalo  539392
Processing subhalo  563821
Processing subhalo  469803
Processing subhalo  633163
Processing subhalo  539405
Processing subhalo  563859
Processing subhalo  511858
Processing subhalo  539426
Processing subhalo  563872
Processing subhalo  539451
Processing subhalo  511875
Processing subhalo  469879
Processing subhalo  635034
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  563877
Processing subhalo  539484
Processing subhalo  635854
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  511905
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  563892
Processing subhalo  539514
Processing subhalo  563926
Processing subhalo  469930
Processing subhalo  511944
Processing subhalo  539541
Processing subhalo  563950
Processing subhalo  635958
Processing subhalo  539565
Processing subhalo  563962
Processing subhalo  511980
Processing subhalo  469967
Processing subhalo  563982
Processing subhalo  539583
Processing subhalo  512014
Processing subhalo  563994
Processing subhalo  539598
Processing subhalo  470060
Processing subhalo  636407
Processing subhalo  512049
Processing subhalo  564003
Processing subhalo  539618
Processing subhalo  512067
Processing subhalo  470134
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  564018
Processing subhalo  539647
Processing subhalo  512125
Processing subhalo  564048
Processing subhalo  638188
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  539656
Processing subhalo  564064
Processing subhalo  470178
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  539679
Processing subhalo  512154
Processing subhalo  564112
Processing subhalo  539723
Processing subhalo  564123
Processing subhalo  512170
Processing subhalo  470252
Processing subhalo  638330
Processing subhalo  539783
Processing subhalo  564144
Processing subhalo  512201
Processing subhalo  539812
Processing subhalo  564164
Processing subhalo  470322
Processing subhalo  512247
Processing subhalo  539835
Processing subhalo  564179
Processing subhalo  638878
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  539874
Processing subhalo  564197
Processing subhalo  512306
Processing subhalo  470380
Processing subhalo  564252
Processing subhalo  539896
Processing subhalo  512330
Processing subhalo  564271
Processing subhalo  539929
Processing subhalo  470420
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  638977
Processing subhalo  564289
Processing subhalo  512366
Processing subhalo  539954
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  639423
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  470493
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  564348
Processing subhalo  539971
Processing subhalo  512414
Processing subhalo  564368
Processing subhalo  470548
Processing subhalo  539998
Processing subhalo  564407
Processing subhalo  108012
Processing subhalo  512459
Processing subhalo  639700
Processing subhalo  540019
Processing subhalo  564423
Processing subhalo  512494
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  564434
Processing subhalo  540039
Processing subhalo  470617
Processing subhalo  512531
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  564453
Processing subhalo  540094
Processing subhalo  641424
Processing subhalo  564474
Processing subhalo  512569
Processing subhalo  540119
Processing subhalo  470679
Processing subhalo  564512
Processing subhalo  540141
Processing subhalo  512600
Processing subhalo  564523
Processing subhalo  641537
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  512683
Processing subhalo  540165
Processing subhalo  470728
Processing subhalo  564545
Processing subhalo  540175
Processing subhalo  512707
Processing subhalo  564567
Processing subhalo  540200
Processing subhalo  512755
Processing subhalo  470808
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  643002
Processing subhalo  564612
Processing subhalo  644201
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  540230
Processing subhalo  512799
Processing subhalo  564623
Processing subhalo  540254
Processing subhalo  564648
Processing subhalo  512842
Processing subhalo  470884
Processing subhalo  540280
Processing subhalo  564670
Processing subhalo  645071
Processing subhalo  512870
Processing subhalo  564687
Processing subhalo  540300
Processing subhalo  564713
Processing subhalo  512906
Processing subhalo  540318
Processing subhalo  470950
Processing subhalo  564732
Processing subhalo  540350
Processing subhalo  645705
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  512934
Processing subhalo  564777
Processing subhalo  512948
Processing subhalo  540374
Processing subhalo  564817
Processing subhalo  512981
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  471006
Processing subhalo  564843
Processing subhalo  540389
Processing subhalo  647421
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  564859
Processing subhalo  540409
Processing subhalo  513009
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  564871
Processing subhalo  540440
Processing subhalo  513026
Processing subhalo  648837
Processing subhalo  564882
Processing subhalo  540473
Processing subhalo  471109
Processing subhalo  513052
Processing subhalo  564892
Processing subhalo  540490
Processing subhalo  564914
Processing subhalo  513094
Processing subhalo  540513
Processing subhalo  564935
Processing subhalo  648921
Processing subhalo  471161
Processing subhalo  540533
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  513137
Processing subhalo  564947
Processing subhalo  114388
Processing subhalo  540554
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  513160
Processing subhalo  564989
Processing subhalo  540561
Processing subhalo  565005
Processing subhalo  649231
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  471219
Processing subhalo  513186
Processing subhalo  471358
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 57, in velocities
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 69, in arrays_to_mgr
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 322, in _homogenize
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/construction.py", line 465, in sanitize_array
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/dtypes/cast.py", line 1452, in construct_1d_arraylike_from_scalar
MemoryError: Unable to allocate 1.35 MiB for an array with shape (177254,) and data type object
Processing subhalo  118679
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 57, in velocities
    dm = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'dm', fields["dm"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 17, in dict_to_pandas
    data[key] = list(dummy)
MemoryError
Processing subhalo  565026
Processing subhalo  540587
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  513220
Processing subhalo  565075
Processing subhalo  540606
Processing subhalo  649263
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  565094
Processing subhalo  540634
Processing subhalo  513262
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  565110
Processing subhalo  471420
Processing subhalo  540661
Processing subhalo  513298
Processing subhalo  565135
Processing subhalo  540701
Processing subhalo  649844
Processing subhalo  513322
Processing subhalo  565159
Processing subhalo  471468
Processing subhalo  540724
Processing subhalo  513371
Processing subhalo  565178
Processing subhalo  540742
Processing subhalo  471517
Processing subhalo  565193
Processing subhalo  513402
Processing subhalo  651538
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  540767
Processing subhalo  565200
Processing subhalo  651644
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  513437
Processing subhalo  565213
Processing subhalo  540795
Processing subhalo  471591
Processing subhalo  565260
Processing subhalo  513468
Processing subhalo  540819
Processing subhalo  565283
Processing subhalo  540858
Processing subhalo  652324
Processing subhalo  471665
Processing subhalo  654714
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  565307
Processing subhalo  513504
Processing subhalo  540877
Processing subhalo  565316
Processing subhalo  540905
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  471740
Processing subhalo  513534
Processing subhalo  565330
Processing subhalo  654971
Processing subhalo  540926
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  513598
Processing subhalo  565344
Processing subhalo  655059
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  471801
Processing subhalo  540942
Processing subhalo  565365
Processing subhalo  513624
Processing subhalo  540962
Processing subhalo  565376
Processing subhalo  540990
Processing subhalo  656555
Processing subhalo  565389
Processing subhalo  513646
Processing subhalo  471857
Processing subhalo  658418
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  565410
Processing subhalo  541006
Processing subhalo  471901
Processing subhalo  513677
Processing subhalo  565432
Processing subhalo  541017
Processing subhalo  471951
Processing subhalo  565475
Processing subhalo  513718
Processing subhalo  659783
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  541067
Processing subhalo  565493
Processing subhalo  472020
Processing subhalo  541090
Processing subhalo  565539
Processing subhalo  513732
Processing subhalo  565557
Processing subhalo  541125
Processing subhalo  659865
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  472104
Processing subhalo  565581
Processing subhalo  513760
Processing subhalo  541147
Processing subhalo  565602
Processing subhalo  513789
Processing subhalo  541160
Processing subhalo  565629
Processing subhalo  541200
Processing subhalo  662726
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  513820
Processing subhalo  472174
Processing subhalo  565642
Processing subhalo  513861
Processing subhalo  541223
Processing subhalo  565654
Processing subhalo  472218
Processing subhalo  541229
Processing subhalo  513925
Processing subhalo  664639
Processing subhalo  565675
Processing subhalo  472295
Processing subhalo  667307
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  565684
Processing subhalo  541242
Processing subhalo  513954
Processing subhalo  541258
Processing subhalo  565704
Processing subhalo  472362
Processing subhalo  513986
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  541283
Processing subhalo  565806
Processing subhalo  667344
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  541355
Processing subhalo  565824
Processing subhalo  667804
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  514017
Processing subhalo  472418
Processing subhalo  541402
Processing subhalo  565853
Processing subhalo  514047
Processing subhalo  541426
Processing subhalo  565868
Processing subhalo  472457
Processing subhalo  514093
Processing subhalo  679293
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  541489
Processing subhalo  565881
Processing subhalo  565913
Processing subhalo  541522
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  514127
Processing subhalo  472499
Processing subhalo  565928
Processing subhalo  514149
Processing subhalo  541578
Processing subhalo  679698
Processing subhalo  565942
Processing subhalo  472550
Processing subhalo  689577
Processing subhalo  541590
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  565955
Processing subhalo  514178
Processing subhalo  472641
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  696010
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  121863
Processing subhalo  541607
Processing subhalo  565967
Processing subhalo  514205
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  472685
Processing subhalo  541627
Processing subhalo  565997
Processing subhalo  514249
Processing subhalo  566008
Processing subhalo  541649
Processing subhalo  704187
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  719337
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  566025
Processing subhalo  514295
Processing subhalo  472747
Processing subhalo  541681
Processing subhalo  727485
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
srun: error: idun-02-11: task 0: Exited with exit code 1
Processing subhalo  566043
Processing subhalo  541706
Processing subhalo  514333
Processing subhalo  566057
Processing subhalo  472824
Processing subhalo  541729
Processing subhalo  514361
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  566076
Processing subhalo  514389
Processing subhalo  541746
Processing subhalo  472884
Processing subhalo  566080
Processing subhalo  514437
Processing subhalo  566096
Processing subhalo  541757
Processing subhalo  472955
Processing subhalo  566121
Processing subhalo  541783
Processing subhalo  514475
Processing subhalo  566142
Processing subhalo  473004
Processing subhalo  541808
Processing subhalo  514500
Processing subhalo  566160
Processing subhalo  541823
Processing subhalo  473055
Processing subhalo  566175
Processing subhalo  514538
Processing subhalo  541839
Processing subhalo  566189
Processing subhalo  473125
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  514587
Processing subhalo  566214
Processing subhalo  541854
Processing subhalo  473166
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  514637
Processing subhalo  566228
Processing subhalo  541879
Processing subhalo  566241
Processing subhalo  473207
Processing subhalo  514671
Processing subhalo  541934
Processing subhalo  566264
Processing subhalo  541955
Processing subhalo  514699
Processing subhalo  473287
Processing subhalo  566278
Processing subhalo  541975
Processing subhalo  514737
Processing subhalo  566283
Processing subhalo  541999
Processing subhalo  473349
Processing subhalo  514770
Processing subhalo  566304
Processing subhalo  542023
Processing subhalo  473420
Processing subhalo  566318
Processing subhalo  514808
Processing subhalo  542044
Processing subhalo  566334
Processing subhalo  514850
Processing subhalo  473471
Processing subhalo  542088
Processing subhalo  566348
Processing subhalo  566377
Processing subhalo  514885
Processing subhalo  542113
Processing subhalo  473514
Processing subhalo  566397
Processing subhalo  514917
Processing subhalo  542129
Processing subhalo  566427
Processing subhalo  473563
Processing subhalo  514961
Processing subhalo  566447
Processing subhalo  542150
Processing subhalo  566488
Processing subhalo  125027
Processing subhalo  514988
Processing subhalo  542183
Processing subhalo  566506
Processing subhalo  473641
Processing subhalo  542201
Processing subhalo  515019
Processing subhalo  566517
Processing subhalo  515058
Processing subhalo  542225
Processing subhalo  566530
Processing subhalo  542247
Processing subhalo  515097
Processing subhalo  566543
Processing subhalo  542274
Traceback (most recent call last):
  File "./src/cluster_run.py", line 1, in <module>
    import safe_tester
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 8, in <module>
    import process_snapshot as process
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 5, in <module>
    import illustris_python as il
  File "/cluster/work/aurorasg/TNG/src/illustris_python/__init__.py", line 3, in <module>
    from . import *
  File "/cluster/work/aurorasg/TNG/src/illustris_python/groupcat.py", line 8, in <module>
    import h5py
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/h5py/__init__.py", line 59, in <module>
    from ._hl.files import (
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/h5py/_hl/files.py", line 25, in <module>
    from .group import Group
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/h5py/_hl/group.py", line 23, in <module>
    from .. import h5, h5g, h5i, h5o, h5r, h5t, h5l, h5p, h5s, h5d
ImportError: /cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/h5py/h5o.cpython-38-x86_64-linux-gnu.so: failed to map segment from shared object
Processing subhalo  566559
Processing subhalo  515133
Processing subhalo  542310
Processing subhalo  566578
Processing subhalo  515177
Processing subhalo  566590
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  542389
Processing subhalo  566607
Processing subhalo  542408
Processing subhalo  515207
Processing subhalo  566625
Processing subhalo  542449
/cluster/work/aurorasg/TNG/./src/cluster_run.sh: line 22: 615322 Segmentation fault      (core dumped) python ./src/cluster_run.py -tng $tng_run -id $job_id -n $test_name -sub $index
Processing subhalo  515252
Processing subhalo  566640
Processing subhalo  542463
Processing subhalo  566689
Processing subhalo  515265
Processing subhalo  542472
Processing subhalo  566704
Processing subhalo  515286
Processing subhalo  566715
Processing subhalo  473753
Processing subhalo  542504
Processing subhalo  566733
Processing subhalo  542539
Processing subhalo  515318
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  566749
Processing subhalo  473815
Processing subhalo  542569
Processing subhalo  515332
Processing subhalo  566768
Processing subhalo  542600
Processing subhalo  515384
Processing subhalo  542637
Processing subhalo  566822
Processing subhalo  515410
Processing subhalo  542653
Processing subhalo  566848
Processing subhalo  566857
Processing subhalo  542719
Processing subhalo  515437
Processing subhalo  473858
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  566876
Processing subhalo  542735
Processing subhalo  515473
Processing subhalo  566892
Processing subhalo  542753
Processing subhalo  566904
Processing subhalo  515504
Processing subhalo  473898
Processing subhalo  542770
Processing subhalo  566945
Processing subhalo  515543
Processing subhalo  566962
Processing subhalo  542783
Processing subhalo  515570
Processing subhalo  566995
Processing subhalo  542795
Processing subhalo  567005
Processing subhalo  542816
Processing subhalo  515620
Processing subhalo  567020
Processing subhalo  542846
Processing subhalo  473957
Processing subhalo  515648
Processing subhalo  567035
Processing subhalo  542856
Processing subhalo  515684
Processing subhalo  567060
Processing subhalo  542891
Processing subhalo  567085
Processing subhalo  515718
Processing subhalo  542906
Processing subhalo  474017
Processing subhalo  567100
Processing subhalo  542946
Processing subhalo  515751
Processing subhalo  567124
Processing subhalo  474061
Processing subhalo  542987
Processing subhalo  515772
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  567131
Processing subhalo  543043
Processing subhalo  567146
Processing subhalo  515794
Processing subhalo  567158
Processing subhalo  543060
Processing subhalo  474127
Processing subhalo  515821
Processing subhalo  543078
Processing subhalo  567178
Processing subhalo  515860
Processing subhalo  567191
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  543109
Processing subhalo  567201
Processing subhalo  515887
Processing subhalo  543127
Processing subhalo  567212
Processing subhalo  474170
Processing subhalo  543168
Processing subhalo  515909
Processing subhalo  567240
Processing subhalo  543190
Processing subhalo  567259
Processing subhalo  515936
Processing subhalo  543241
Processing subhalo  567274
Processing subhalo  474204
Processing subhalo  515981
Processing subhalo  567299
Processing subhalo  543269
Processing subhalo  567314
Processing subhalo  131047
Processing subhalo  516011
Processing subhalo  543308
Processing subhalo  474231
Processing subhalo  567326
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  516034
Processing subhalo  543349
Processing subhalo  567342
Processing subhalo  474271
Processing subhalo  543359
Processing subhalo  567351
Processing subhalo  516068
Processing subhalo  567369
Processing subhalo  474320
Processing subhalo  543372
Processing subhalo  516104
Processing subhalo  567381
Processing subhalo  543392
Processing subhalo  474377
Processing subhalo  516129
Processing subhalo  567406
Processing subhalo  567416
Processing subhalo  543404
Processing subhalo  516161
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  474437
Processing subhalo  567435
Processing subhalo  543418
Processing subhalo  567456
Processing subhalo  543451
Processing subhalo  516175
Processing subhalo  474505
Processing subhalo  567477
Processing subhalo  543486
Processing subhalo  516188
Processing subhalo  567495
Processing subhalo  474569
Processing subhalo  543512
Processing subhalo  567517
Processing subhalo  516225
Processing subhalo  543538
Processing subhalo  567541
Processing subhalo  474623
Processing subhalo  516256
Processing subhalo  543544
Processing subhalo  567567
Processing subhalo  516303
Processing subhalo  543560
Processing subhalo  567578
Processing subhalo  516333
Processing subhalo  567594
Processing subhalo  543606
Processing subhalo  567613
Processing subhalo  516377
Processing subhalo  543619
Processing subhalo  567642
Processing subhalo  474674
Processing subhalo  543639
Processing subhalo  567657
Processing subhalo  516398
Processing subhalo  567667
Processing subhalo  516416
Processing subhalo  543656
Processing subhalo  567687
Processing subhalo  543669
Processing subhalo  474757
Processing subhalo  516465
Processing subhalo  567697
Processing subhalo  543698
Processing subhalo  516502
Processing subhalo  567713
Processing subhalo  474813
Processing subhalo  543722
Processing subhalo  567730
Processing subhalo  516530
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  543743
Processing subhalo  474860
Processing subhalo  567750
Processing subhalo  516572
Processing subhalo  543774
Processing subhalo  567764
Processing subhalo  474918
Processing subhalo  516606
Processing subhalo  567774
Processing subhalo  543792
Processing subhalo  567818
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  474979
Processing subhalo  516638
Processing subhalo  543809
Processing subhalo  567832
Processing subhalo  516686
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  543821
Processing subhalo  567839
Processing subhalo  475020
Processing subhalo  543835
Processing subhalo  567845
Processing subhalo  516703
Processing subhalo  134847
Processing subhalo  475098
Processing subhalo  543869
Processing subhalo  567869
Processing subhalo  516737
Processing subhalo  567941
Processing subhalo  543895
Processing subhalo  475171
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  516768
Processing subhalo  567956
Processing subhalo  543926
Processing subhalo  475220
Processing subhalo  516793
Processing subhalo  568001
Processing subhalo  543953
Processing subhalo  516819
Processing subhalo  568032
Processing subhalo  475293
Processing subhalo  543975
Processing subhalo  516854
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  568052
Processing subhalo  544005
Processing subhalo  475354
Processing subhalo  568064
Processing subhalo  516889
Processing subhalo  568093
Processing subhalo  544023
Processing subhalo  475440
Processing subhalo  568118
Processing subhalo  544045
Processing subhalo  516909
Processing subhalo  568129
Processing subhalo  516941
Processing subhalo  544116
Processing subhalo  475490
Processing subhalo  568138
Processing subhalo  516966
Processing subhalo  544145
Processing subhalo  568161
Processing subhalo  475542
Processing subhalo  517008
Processing subhalo  544162
Processing subhalo  568194
Processing subhalo  475603
Processing subhalo  517040
Processing subhalo  544179
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  568236
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  568250
Processing subhalo  544205
Processing subhalo  517106
Processing subhalo  475656
Processing subhalo  544219
Processing subhalo  568278
Processing subhalo  517137
Processing subhalo  568300
Processing subhalo  544255
Processing subhalo  475722
Processing subhalo  517199
Processing subhalo  568320
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  544279
Processing subhalo  517234
Processing subhalo  568335
Processing subhalo  475781
Processing subhalo  544305
Processing subhalo  568362
Processing subhalo  517290
Processing subhalo  544320
Processing subhalo  568414
Processing subhalo  475865
Processing subhalo  517336
Processing subhalo  544344
Processing subhalo  568437
Processing subhalo  568480
Processing subhalo  517366
Processing subhalo  544360
Processing subhalo  568506
Processing subhalo  517382
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  544373
Processing subhalo  568518
Processing subhalo  517424
Processing subhalo  544393
Processing subhalo  568534
Processing subhalo  517461
Processing subhalo  544416
Processing subhalo  568546
Processing subhalo  544446
Processing subhalo  568559
Processing subhalo  517503
Processing subhalo  475906
Processing subhalo  544464
Processing subhalo  568595
Processing subhalo  517535
Processing subhalo  544486
Processing subhalo  568650
Processing subhalo  475956
Processing subhalo  517561
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  544515
Processing subhalo  568666
Processing subhalo  544544
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  568685
Processing subhalo  137885
Processing subhalo  517644
Processing subhalo  568693
Processing subhalo  544569
Processing subhalo  517681
Processing subhalo  568702
Processing subhalo  544581
Processing subhalo  517714
Processing subhalo  568722
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  544615
Processing subhalo  568736
Processing subhalo  544644
Processing subhalo  517751
Processing subhalo  568753
Processing subhalo  544656
Processing subhalo  517772
Processing subhalo  476005
Processing subhalo  568762
Processing subhalo  517812
Processing subhalo  568777
Processing subhalo  544694
Processing subhalo  568794
Processing subhalo  544705
Processing subhalo  517858
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  568825
Processing subhalo  544731
Processing subhalo  517881
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  568841
Processing subhalo  544754
Processing subhalo  517908
Processing subhalo  568862
Processing subhalo  544787
Processing subhalo  568873
Processing subhalo  517938
Processing subhalo  476044
Processing subhalo  544806
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  568883
Processing subhalo  517977
Processing subhalo  544827
Processing subhalo  568920
Processing subhalo  518008
Processing subhalo  544849
Processing subhalo  568936
Processing subhalo  476118
Processing subhalo  544863
Processing subhalo  569000
Processing subhalo  518056
Processing subhalo  569019
Processing subhalo  544896
Processing subhalo  569034
Processing subhalo  518077
Processing subhalo  544908
Processing subhalo  544945
Processing subhalo  569045
Processing subhalo  476172
Processing subhalo  518111
Processing subhalo  569063
Processing subhalo  518148
Processing subhalo  569078
Processing subhalo  476232
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  518197
Processing subhalo  569089
Processing subhalo  476295
Processing subhalo  569149
Processing subhalo  518236
Processing subhalo  476362
Processing subhalo  569163
Processing subhalo  518272
Processing subhalo  569175
Processing subhalo  476417
Processing subhalo  518299
Processing subhalo  569197
Processing subhalo  476487
Processing subhalo  569253
Processing subhalo  518340
Processing subhalo  476527
Processing subhalo  569277
Processing subhalo  518369
Processing subhalo  140721
Processing subhalo  476557
Processing subhalo  569290
Processing subhalo  518390
Processing subhalo  569305
Processing subhalo  476624
Processing subhalo  518430
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  569332
Processing subhalo  476696
Processing subhalo  518460
Processing subhalo  569388
Processing subhalo  476745
Processing subhalo  569407
Processing subhalo  518479
Processing subhalo  476820
Processing subhalo  569459
Processing subhalo  476892
Processing subhalo  518522
Processing subhalo  476944
Processing subhalo  569468
Processing subhalo  518557
Processing subhalo  476997
Processing subhalo  569483
Processing subhalo  477031
Processing subhalo  569504
Processing subhalo  477089
Processing subhalo  477119
Processing subhalo  569539
Processing subhalo  477179
Processing subhalo  569558
Processing subhalo  477227
Processing subhalo  477290
Processing subhalo  569580
Processing subhalo  477378
Processing subhalo  569628
Processing subhalo  477419
Processing subhalo  569654
Processing subhalo  477474
Processing subhalo  569679
Processing subhalo  477518
Processing subhalo  569698
Processing subhalo  477564
Processing subhalo  569742
Processing subhalo  477624
Processing subhalo  569756
Processing subhalo  477677
Processing subhalo  569770
Processing subhalo  477745
Processing subhalo  477802
Processing subhalo  569780
Processing subhalo  477875
Processing subhalo  569827
Processing subhalo  569838
Processing subhalo  477919
Processing subhalo  569864
Processing subhalo  477974
Processing subhalo  569940
Processing subhalo  478037
Processing subhalo  569953
Processing subhalo  478092
Processing subhalo  569986
Processing subhalo  570007
Processing subhalo  478160
Processing subhalo  570014
Processing subhalo  570070
Processing subhalo  478247
Processing subhalo  143884
Processing subhalo  570082
Processing subhalo  478298
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  570104
Processing subhalo  570115
Processing subhalo  478357
Processing subhalo  570184
Processing subhalo  478410
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  570199
Processing subhalo  570220
Processing subhalo  478452
Processing subhalo  570241
Processing subhalo  570255
Processing subhalo  478496
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  570261
Processing subhalo  570304
Processing subhalo  478535
Processing subhalo  570320
Processing subhalo  478604
Processing subhalo  570340
Processing subhalo  570357
Processing subhalo  478661
Processing subhalo  570386
Processing subhalo  570401
Processing subhalo  478696
Processing subhalo  570421
Processing subhalo  570456
Processing subhalo  478759
Processing subhalo  570468
Processing subhalo  478856
Processing subhalo  570521
Processing subhalo  570540
Processing subhalo  478927
Processing subhalo  570560
Processing subhalo  570572
Processing subhalo  479002
Processing subhalo  570590
Processing subhalo  479056
Processing subhalo  570604
Processing subhalo  146176
Processing subhalo  570622
Processing subhalo  479117
Processing subhalo  570639
Processing subhalo  570645
Processing subhalo  479174
Processing subhalo  570664
Processing subhalo  570691
Processing subhalo  479221
Processing subhalo  570710
Processing subhalo  570720
Processing subhalo  479264
Processing subhalo  570736
Processing subhalo  570752
Processing subhalo  479314
Processing subhalo  570771
Processing subhalo  570792
Processing subhalo  479372
Processing subhalo  570813
Processing subhalo  570856
Processing subhalo  479411
Processing subhalo  570875
Processing subhalo  479461
Processing subhalo  570894
Processing subhalo  479560
Processing subhalo  570943
Processing subhalo  479628
Processing subhalo  479682
Processing subhalo  479745
Processing subhalo  479798
Processing subhalo  479839
Processing subhalo  479884
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  479917
Processing subhalo  480000
Processing subhalo  480073
Processing subhalo  149169
Processing subhalo  480151
Processing subhalo  480194
Processing subhalo  480230
Processing subhalo  480285
Processing subhalo  480345
Processing subhalo  480391
Processing subhalo  480441
Processing subhalo  480497
Processing subhalo  480550
Processing subhalo  480587
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  480645
Processing subhalo  480712
Processing subhalo  480750
Processing subhalo  480803
Processing subhalo  480879
Processing subhalo  480931
Processing subhalo  152031
Processing subhalo  480989
Processing subhalo  481036
Processing subhalo  481064
Processing subhalo  481126
Processing subhalo  481171
Processing subhalo  481254
Processing subhalo  481300
Processing subhalo  481347
Processing subhalo  481405
Processing subhalo  481453
Processing subhalo  481503
Processing subhalo  481545
Processing subhalo  481597
Processing subhalo  481653
Processing subhalo  481724
Processing subhalo  481804
Processing subhalo  481855
Processing subhalo  481894
Processing subhalo  154493
Processing subhalo  481947
Processing subhalo  482006
Processing subhalo  482054
Processing subhalo  482117
Processing subhalo  482169
Processing subhalo  482196
Processing subhalo  482257
Processing subhalo  482323
Processing subhalo  482368
Processing subhalo  482435
Processing subhalo  482479
Processing subhalo  482533
Processing subhalo  482589
Processing subhalo  482614
Processing subhalo  482674
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  482714
Processing subhalo  482757
Processing subhalo  482814
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  482869
Processing subhalo  482925
Processing subhalo  482987
Processing subhalo  483033
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  156809
Processing subhalo  483068
Processing subhalo  483113
Processing subhalo  483179
Processing subhalo  483214
Processing subhalo  483269
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  483323
Processing subhalo  483370
Processing subhalo  483421
Processing subhalo  483484
Processing subhalo  483521
Processing subhalo  483590
Processing subhalo  483641
Processing subhalo  483693
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  483749
Processing subhalo  158847
Processing subhalo  483812
Processing subhalo  483868
Processing subhalo  483900
Processing subhalo  483927
Processing subhalo  483977
Processing subhalo  484045
Processing subhalo  484113
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  484155
Processing subhalo  484207
Processing subhalo  484257
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  484307
Processing subhalo  484336
Processing subhalo  484366
Processing subhalo  484427
Processing subhalo  484506
Processing subhalo  484550
Processing subhalo  161162
Processing subhalo  484608
Processing subhalo  484655
Processing subhalo  484715
Processing subhalo  484771
Processing subhalo  484818
Processing subhalo  484852
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  484905
Processing subhalo  484944
Processing subhalo  485017
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  485095
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  485146
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  485196
Processing subhalo  485233
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  485283
Processing subhalo  485326
Processing subhalo  485365
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  485394
Processing subhalo  485441
Processing subhalo  163675
Processing subhalo  485485
Processing subhalo  485518
Processing subhalo  485542
Processing subhalo  485596
Processing subhalo  485654
Processing subhalo  485703
Processing subhalo  485747
Processing subhalo  485782
Processing subhalo  485833
Processing subhalo  485886
Processing subhalo  485951
Processing subhalo  486009
Processing subhalo  486052
Processing subhalo  486124
Processing subhalo  165727
Processing subhalo  486186
Processing subhalo  486229
Processing subhalo  486281
Processing subhalo  486341
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 56, in velocities
    gas = il.pandasformat.dict_to_pandas(il.snapshot.loadSubhalo(base_path, snapshot, i, 'gas', fields["gas"]))
  File "/cluster/work/aurorasg/TNG/src/illustris_python/pandasformat.py", line 94, in dict_to_pandas
    df = pd.DataFrame(data, dtype=object)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/frame.py", line 435, in __init__
    mgr = init_dict(data, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 254, in init_dict
    return arrays_to_mgr(arrays, data_names, index, columns, dtype=dtype)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 64, in arrays_to_mgr
    index = extract_index(arrays)
  File "/cluster/apps/eb/software/Anaconda3/2020.07/lib/python3.8/site-packages/pandas/core/internals/construction.py", line 355, in extract_index
    raise ValueError("If using all scalar values, you must pass an index")
ValueError: If using all scalar values, you must pass an index
Processing subhalo  486384
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  486415
Processing subhalo  486463
Processing subhalo  486525
Processing subhalo  486590
Processing subhalo  486632
Processing subhalo  486691
Processing subhalo  486742
Processing subhalo  486781
Processing subhalo  486828
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  486875
Processing subhalo  486917
Processing subhalo  486966
Processing subhalo  487000
Processing subhalo  487042
Processing subhalo  487072
Processing subhalo  487099
Processing subhalo  487152
Processing subhalo  487191
Processing subhalo  168390
Processing subhalo  487244
Processing subhalo  487276
Processing subhalo  487327
Processing subhalo  487363
Processing subhalo  487393
Processing subhalo  487438
Processing subhalo  487496
Processing subhalo  487530
Processing subhalo  487606
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  487651
Processing subhalo  487698
Processing subhalo  487769
Processing subhalo  487817
Traceback (most recent call last):
  File "./src/cluster_run.py", line 25, in <module>
    safe_tester.kinematics(args.tng, test_name, int(args.subhalo), 99)
  File "/cluster/work/aurorasg/TNG/src/safe_tester.py", line 47, in kinematics
    temp_cat = process.velocities(tng_run, snapshot, dm_part_mass, i)
  File "/cluster/work/aurorasg/TNG/src/process_snapshot.py", line 84, in velocities
    group_cat = physics.properties.velocity_disp_projected(gas, group_cat, "SubhaloVelDispTotalGas")
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 187, in velocity_disp_projected
    temp_cat = half_mass_radius(temp, temp_cat)
  File "/cluster/work/aurorasg/TNG/src/physics/properties.py", line 118, in half_mass_radius
    catalogue[rad_key] = halfmass_rad #save to catalogue
UnboundLocalError: local variable 'halfmass_rad' referenced before assignment
Processing subhalo  487877
Processing subhalo  487913
Processing subhalo  487965
Processing subhalo  487993
Processing subhalo  488062
Processing subhalo  170540
Processing subhalo  488123
Processing subhalo  488174
Processing subhalo  488228
Processing subhalo  488282
Processing subhalo  488355
Processing subhalo  488415
Processing subhalo  488445
Processing subhalo  488500
Processing subhalo  488537
Processing subhalo  172649
Processing subhalo  488591
Processing subhalo  488662
Processing subhalo  488722
Processing subhalo  488771
Processing subhalo  175238
Processing subhalo  177719
Processing subhalo  179886
Processing subhalo  181983
Processing subhalo  184828
Processing subhalo  186927
Processing subhalo  188859
Processing subhalo  191079
Processing subhalo  192898
Processing subhalo  194946
Processing subhalo  197108
Processing subhalo  199321
Processing subhalo  200803
Processing subhalo  202634
Processing subhalo  204234
Processing subhalo  206226
Processing subhalo  207473
Processing subhalo  208781
Processing subhalo  210763
Processing subhalo  212836
Processing subhalo  214452
Processing subhalo  216016
Processing subhalo  217485
Processing subhalo  219032
Processing subhalo  220557
Processing subhalo  222267
Processing subhalo  223896
Processing subhalo  225155
Processing subhalo  226194
Processing subhalo  227574
Processing subhalo  228680
Processing subhalo  230235
Processing subhalo  231706
Processing subhalo  233214
Processing subhalo  234514
Processing subhalo  235692
Processing subhalo  236756
Processing subhalo  237941
Processing subhalo  239245
Processing subhalo  239993
Processing subhalo  241153
Processing subhalo  242214
Processing subhalo  243186
Processing subhalo  244318
Processing subhalo  245134
Processing subhalo  246232
Processing subhalo  247348
Processing subhalo  248157
Processing subhalo  249164
Processing subhalo  250390
Processing subhalo  251299
Processing subhalo  252245
Processing subhalo  252995
Processing subhalo  254112
Processing subhalo  254925
Processing subhalo  255614
Processing subhalo  256507
Processing subhalo  257302
Processing subhalo  258263
Processing subhalo  259114
Processing subhalo  260014
Processing subhalo  260862
Processing subhalo  261959
Processing subhalo  262659
Processing subhalo  263557
Processing subhalo  264412
Processing subhalo  265267
Processing subhalo  265926
Processing subhalo  266559
Processing subhalo  267323
Processing subhalo  268295
Processing subhalo  268908
Processing subhalo  269440
Processing subhalo  270079
Processing subhalo  270963
Processing subhalo  271729
Processing subhalo  272322
Processing subhalo  273141
Processing subhalo  273994
Processing subhalo  274790
Processing subhalo  275531
Processing subhalo  276219
Processing subhalo  277020
Processing subhalo  277687
Processing subhalo  278302
Processing subhalo  278854
Processing subhalo  279707
Processing subhalo  280454
Processing subhalo  281072
Processing subhalo  281700
Processing subhalo  282377
Processing subhalo  283011
Processing subhalo  283637
Processing subhalo  284316
Processing subhalo  284948
Processing subhalo  285479
Processing subhalo  286066
Processing subhalo  286695
Processing subhalo  287335
Processing subhalo  288014
Processing subhalo  288743
Processing subhalo  289426
Processing subhalo  289945
Processing subhalo  290643
Processing subhalo  291113
Processing subhalo  291888
Processing subhalo  292355
Processing subhalo  292921
Processing subhalo  293439
Processing subhalo  294047
Processing subhalo  294510
Processing subhalo  295077
Processing subhalo  295674
Processing subhalo  296302
Processing subhalo  296787
Processing subhalo  297210
Processing subhalo  297712
Processing subhalo  298206
Processing subhalo  298892
Processing subhalo  299429
Processing subhalo  299935
Processing subhalo  300568
Processing subhalo  301127
Processing subhalo  301746
Processing subhalo  302165
Processing subhalo  302773
Processing subhalo  303362
Processing subhalo  303710
Processing subhalo  304201
Processing subhalo  304726
Processing subhalo  305083
Processing subhalo  305653
Processing subhalo  306058
Processing subhalo  306516
Processing subhalo  306945
Processing subhalo  307438
Processing subhalo  308060
Processing subhalo  308598
Processing subhalo  309045
Processing subhalo  309428
Processing subhalo  309951
Processing subhalo  310509
Processing subhalo  310985
Processing subhalo  311302
Processing subhalo  311882
Processing subhalo  312412
Processing subhalo  312891
Processing subhalo  313402
Processing subhalo  313954
Processing subhalo  314365
Processing subhalo  314770
Processing subhalo  315140
Processing subhalo  315519
Processing subhalo  316029
Processing subhalo  316354
Processing subhalo  316855
Processing subhalo  317311
Processing subhalo  317711
Processing subhalo  318210
Processing subhalo  318633
Processing subhalo  319144
Processing subhalo  319643
Processing subhalo  320012
Processing subhalo  320433
Processing subhalo  320734
Processing subhalo  321204
Processing subhalo  321674
Processing subhalo  322160
Processing subhalo  322581
Processing subhalo  322979
Processing subhalo  323455
Processing subhalo  323851
Processing subhalo  324127
Processing subhalo  324572
Processing subhalo  324997
Processing subhalo  325335
Processing subhalo  325808
Processing subhalo  326217
Processing subhalo  326652
Processing subhalo  327112
Processing subhalo  327405
Processing subhalo  327822
Processing subhalo  328251
Processing subhalo  328677
Processing subhalo  329105
Processing subhalo  329515
Processing subhalo  329849
Processing subhalo  330208
Processing subhalo  330553
Processing subhalo  330955
Processing subhalo  331293
Processing subhalo  331701
Processing subhalo  332068
Processing subhalo  332389
Processing subhalo  332812
Processing subhalo  333258
Processing subhalo  333672
Processing subhalo  334028
Processing subhalo  334350
Processing subhalo  334727
Processing subhalo  335078
Processing subhalo  335486
Processing subhalo  335927
Processing subhalo  336276
Processing subhalo  336516
Processing subhalo  336796
Processing subhalo  337048
Processing subhalo  337444
Processing subhalo  337843
Processing subhalo  338148
Processing subhalo  338458
Processing subhalo  338817
Processing subhalo  339181
Processing subhalo  339547
Processing subhalo  339862
Processing subhalo  340106
Processing subhalo  340355
Processing subhalo  340585
Processing subhalo  340976
Processing subhalo  341356
Processing subhalo  341683
Processing subhalo  342047
Processing subhalo  342343
Processing subhalo  342689
Processing subhalo  343039
Processing subhalo  343429
Processing subhalo  343638
Processing subhalo  343988
Processing subhalo  344300
Processing subhalo  344593
Processing subhalo  344987
Processing subhalo  345250
Processing subhalo  345456
Processing subhalo  345812
Processing subhalo  346075
Processing subhalo  346420
Processing subhalo  346748
Processing subhalo  346976
Processing subhalo  347237
Processing subhalo  347508
Processing subhalo  347785
Processing subhalo  348038
Processing subhalo  348334
Processing subhalo  348593
Processing subhalo  348894
Processing subhalo  349135
Processing subhalo  349414
Processing subhalo  349624
Processing subhalo  349897
Processing subhalo  350183
Processing subhalo  350486
Processing subhalo  350843
Processing subhalo  351071
Processing subhalo  351452
Processing subhalo  351779
Processing subhalo  352061
Processing subhalo  352359
Processing subhalo  352578
Processing subhalo  352816
Processing subhalo  353167
Processing subhalo  353423
Processing subhalo  353729
Processing subhalo  353973
Processing subhalo  354239
Processing subhalo  354483
Processing subhalo  354727
Processing subhalo  354986
Processing subhalo  355232
Processing subhalo  355537
Processing subhalo  355911
Processing subhalo  356176
Processing subhalo  356415
Processing subhalo  356678
Processing subhalo  356906
Processing subhalo  357235
Processing subhalo  357465
Processing subhalo  357765
Processing subhalo  358016
Processing subhalo  358273
Processing subhalo  358582
Processing subhalo  358886
Processing subhalo  359086
Processing subhalo  359334
Processing subhalo  359639
Processing subhalo  359811
Processing subhalo  360087
Processing subhalo  360294
Processing subhalo  360509
Processing subhalo  360750
Processing subhalo  360916
Processing subhalo  361189
Processing subhalo  361418
Processing subhalo  361752
Processing subhalo  362042
Processing subhalo  362370
Processing subhalo  362551
Processing subhalo  362780
Processing subhalo  363104
Processing subhalo  363315
Processing subhalo  363524
Processing subhalo  363736
Processing subhalo  363981
Processing subhalo  364263
Processing subhalo  364479
Processing subhalo  364807
Processing subhalo  365010
Processing subhalo  365263
Processing subhalo  365493
Processing subhalo  365743
Processing subhalo  366034
Processing subhalo  366338
Processing subhalo  366565
Processing subhalo  366792
Processing subhalo  367139
Processing subhalo  367456
Processing subhalo  367688
Processing subhalo  367929
Processing subhalo  368170
Processing subhalo  368436
Processing subhalo  368697
Processing subhalo  368884
Processing subhalo  369152
Processing subhalo  369366
Processing subhalo  369545
Processing subhalo  369789
Processing subhalo  370003
Processing subhalo  370190
Processing subhalo  370529
Processing subhalo  370781
Processing subhalo  371013
Processing subhalo  371259
Processing subhalo  371471
Processing subhalo  371704
Processing subhalo  371859
Processing subhalo  372175
Processing subhalo  372343
slurmstepd: error: *** JOB 50584 ON idun-02-22 CANCELLED AT 2021-03-17T21:44:26 DUE TO TIME LIMIT ***
srun: Job step aborted: Waiting up to 62 seconds for job step to finish.
slurmstepd: error: *** STEP 50584.0 ON idun-02-22 CANCELLED AT 2021-03-17T21:44:26 DUE TO TIME LIMIT ***
